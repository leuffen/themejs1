{"version":3,"file":"assets/dist/index.js","mappings":"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CA;AACA;;AAEA;AACA;AACA;AACA,UAAU;AACV;AACA;;AAEA;AACA;AACA,mCAAmC,qDAAc;AACjD;;AAEA,sBAAsB,iEAAa;;AAEnC;AACA;AACA;AACA,cAAc;AACd;AACA;;AAEA,6BAA6B,wDAAU;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA,yBAAyB,qEAAiB;AAC1C;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;AC3FkC;AACyB;AACnB;AACQ;AACa;;;AAGtD;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB;AAClB,2BAA2B,iDAAO;AAClC;AACA;AACA;;AAEA;AACA,4BAA4B;AAC5B;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB,iDAAO;;AAEvB;AACA;AACA,4CAA4C,kDAAK;AACjD;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,oBAAoB,uDAAW;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0EAAoB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0EAAoB;AACvD;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,uDAAW;AAC/B;AACA;AACA,iCAAiC;AACjC,iCAAiC,mCAAmC,iDAAO;AAC3E,wBAAwB,kDAAO,IAAI,QAAQ;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,kCAAkC,iDAAO;;AAEzC;AACA;AACA;AACA;AACA,iCAAiC;AACjC,wBAAwB,iDAAO,IAAI,QAAQ;AAC3C;AACA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA,oBAAoB,uDAAW;AAC/B;AACA,wBAAwB,iDAAK;AAC7B,iCAAiC;AACjC,wBAAwB,kDAAO,IAAI,QAAQ;AAC3C;AACA;AACA;AACA,iCAAiC;AACjC,iCAAiC,mCAAmC,iDAAO;AAC3E,wBAAwB,kDAAO,IAAI,QAAQ;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA,0BAA0B;AAC1B;AACA;AACA,iCAAiC;AACjC,wBAAwB,kDAAO,IAAI,QAAQ;AAC3C;AACA;AACA,qBAAqB;AACrB;AACA,iCAAiC;AACjC,wBAAwB,kDAAO,IAAI,QAAQ;AAC3C;AACA;;AAEA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B,0EAAoB;AACjD;AACA;AACA;AACA,6BAA6B,0EAAoB;AACjD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACnUA;AACA;AACA,WAAW,aAAa;AACxB;AACA;AACA;AACO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB;;AAEtB;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;AC1BO;AACP,wBAAwB;AACxB;;AAEA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA,gDAAgD,OAAO;AACvD,wDAAwD,OAAO;AAC/D;AACA,oBAAoB,QAAQ,aAAa,OAAO,GAAG;AACnD;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,YAAY;AACZ;AACO;AACP;AACA;;;;;;;;;;;;;;;;;;;;ACZwC;AACI;AACF;AACc;;;AAGjD;;AAEP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,uCAAuC,KAAK;AAC5C,+BAA+B,KAAK;AACpC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,+CAA+C,KAAK;AACpD;AACA,wBAAwB,sDAAO;;AAE/B;AACA;AACA,6CAA6C,KAAK;AAClD;AACA;;AAEA;AACA;AACA,4BAA4B;AAC5B;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,0CAA0C;AAC3E;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,0DAAS;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,gBAAgB,wDAAQ;AACxB,iGAAiG,kEAAe;AAChH,kCAAkC;AAClC,aAAa;AACb;AACA;;;AAGA;AACA,yBAAyB,sDAAO;AAChC;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,oCAAoC;AACjD;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU;AACV;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;ACzKuD;AACX;;AAE5C;AACA,oCAAoC;AACpC;AACA,6BAA6B;AAC7B,8BAA8B;AAC9B,8BAA8B;AAC9B,4BAA4B;AAC5B,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,oBAAoB;AAC/B,YAAY;AACZ;AACO;AACP;AACA,eAAe,qEAAiB;;AAEhC;AACA;AACA,kEAAkE,KAAK;AACvE;;AAEA;AACA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA,iFAAiF,cAAc;;AAE/F;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,2DAAS;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;UChFA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;;ACL2B;AACT","sources":["webpack://@leuffen/themejs1/./index.ts","webpack://@leuffen/themejs1/./src.dev/SwitcherElement.ts","webpack://@leuffen/themejs1/./src/index.ts","webpack://@leuffen/themejs1/./src/template/autocontent/autocontent.ts","webpack://@leuffen/themejs1/./src/template/col2/col2.ts","webpack://@leuffen/themejs1/./src/template/footer/footer.ts","webpack://@leuffen/themejs1/./src/template/header/header.ts","webpack://@leuffen/themejs1/./src/template/hero/hero1.ts","webpack://@leuffen/themejs1/./src/template/map/map.ts","webpack://@leuffen/themejs1/./src/template/navbar/navbar.ts","webpack://@leuffen/themejs1/./src/template/textstyle/textstyle.ts","webpack://@leuffen/themejs1/./workspaces/jodastyle/index.ts","webpack://@leuffen/themejs1/./workspaces/jodastyle/src/component/joda-content-element.ts","webpack://@leuffen/themejs1/./workspaces/jodastyle/src/helper/QTemplate.ts","webpack://@leuffen/themejs1/./workspaces/jodastyle/src/helper/functions.ts","webpack://@leuffen/themejs1/./workspaces/jodastyle/src/helper/ka-quick-template.ts","webpack://@leuffen/themejs1/./workspaces/jodastyle/src/helper/logger.ts","webpack://@leuffen/themejs1/./workspaces/jodastyle/src/index.ts","webpack://@leuffen/themejs1/./workspaces/jodastyle/src/processor/jodaresponsive.ts","webpack://@leuffen/themejs1/./workspaces/jodastyle/src/processor/jodasplit.ts","webpack://@leuffen/themejs1/./workspaces/jodastyle/src/processor/jodastyle-commands.ts","webpack://@leuffen/themejs1/./workspaces/jodastyle/src/processor/jodastyle.ts","webpack://@leuffen/themejs1/./workspaces/jodastyle/src/types/DefaultLayout.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/index.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/ce/html.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/ce/htmlFile.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/ce/loadHtml.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/core/create-element.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/core/debounce.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/core/debouncer.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/core/dom-ready.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/core/ka-set-options.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/core/query-select.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/core/sleep.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/core/storage.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/element/KaCustomElement.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/element/KaCustomFragment.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/element/KaCustomModal.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/element/KaCustomWrapper.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/element/KaHtmlElement.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/element/KaModal.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/element/ka-use.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/functions.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/index.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/types.ts","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/ce/custom-element.js","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/core/apply.js","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/core/elwalk.js","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/core/eval.js","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/core/str-to-camelcase.js","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/tpl/template.js","webpack://@leuffen/themejs1/./workspaces/kasi-embed/src/tpl/templatify.js","webpack://@leuffen/themejs1/webpack/bootstrap","webpack://@leuffen/themejs1/webpack/runtime/compat get default export","webpack://@leuffen/themejs1/webpack/runtime/define property getters","webpack://@leuffen/themejs1/webpack/runtime/hasOwnProperty shorthand","webpack://@leuffen/themejs1/webpack/runtime/make namespace object","webpack://@leuffen/themejs1/./src.dev/index-dev.ts"],"sourcesContent":["export * from \"./src/index\";\n","import {customElement, KaCustomElement, KaCustomWrapper, template} from \"@kasimirjs/embed\";\nimport {ka_session_storage} from \"@kasimirjs/embed\";\n\n// language=HTML\nconst tpl = `\n    <style>\n        .sidepanel {\n            position: fixed;\n            top: 0;\n            bottom: 0;\n            right: 0;\n            border: 0;\n            width: 250px;\n            z-index: 99999;\n            transform: translateX(100%);\n            transition: transform 0.3s ease-in-out;\n            background: #000;\n            box-shadow: 0 0 10px rgba(0,0,0,0.5);\n            padding: 5px\n        }\n        \n        .sidepanel .activator {\n            position: absolute;\n            top: 38vh;\n            height: 50px;\n            width: 50px;\n            left: -50px;\n            cursor: pointer;\n            background: #000;\n            color: #fff;\n            border-radius: 10% 0 0 10%;\n            box-shadow: 0 0 10px rgba(0,0,0,0.5);\n            opacity: 0.5;\n            transition: opacity 0.3s ease-in-out;\n        }\n        .sidepanel.active .activator {\n            opacity: 0.8;\n        }\n        .sidepanel .activator:hover {\n            opacity: 1;\n        }\n        .sidepanel.active {\n            transform: translateX(0);\n        }\n        .sidepanel .content {\n            color: #fff;\n        }\n        \n    </style>\n    \n    <nav class=\"sidepanel\" ka.classlist.active=\"state.active\">\n        <div class=\"activator\" ka.on.click=\"$fn.toggle()\">B</div>\n        <div class=\"content\">\n            <div  ka.content=\"$content\"></div>\n        </div>\n    </nav>\n`;\n\n\n@template(tpl)\nexport class SwitcherElement extends KaCustomWrapper {\n\n    constructor(config) {\n        super();\n        let state = ka_session_storage({active: false}, \"switcher-element\");\n        let scope = this.init({\n            state: state,\n            $fn: {\n                toggle: () => {\n                    state.active = ! state.active;\n                    scope.render();\n                }\n            },\n            $on: {\n                change: (e) => {\n                    console.log(\"change\", e);\n                }\n            }\n        });\n    }\n\n\n\n}\n\n@customElement(\"switcher-element\")\n@template(\"<b>Hello World</b>\")\nclass SubElement extends KaCustomElement {\n    static html;\n    constructor() {\n        super();\n        this.wrap(new SwitcherElement({}));\n    }\n}\n\ndocument.body.appendChild(new SubElement());\n","\n\nimport \"@leuffen/jodastyle\";\n\nimport \"./template/autocontent/autocontent\";\nimport \"./template/navbar/navbar\";\nimport \"./template/footer/footer\";\nimport \"./template/header/header\";\n\nimport \"./template/hero/hero1\";\nimport \"./template/map/map\";\nimport \"./template/col2/col2\";\nimport \"./template/textstyle/textstyle\";\n","import {DefaultLayout, jodaRenderer, JodaRendererInterface, JodaUseRenderer} from \"@leuffen/jodastyle\";\nimport {QTemplate} from \"@leuffen/jodastyle/src/helper/QTemplate\";\n\n\nclass AutocontentLayout extends DefaultLayout {\n    style = \"fullsize\";\n\n}\n\n// language=HTML\nlet tpl = {};\n\ntpl[\"fullsize\"] = `\n<div class=\"as__autocontent\">\n    <div class=\"[[ layout.container ]]\" data-ref=\"main\">\n        \n    </div>\n</div>\n`;\n@jodaRenderer(\"autocontent\", AutocontentLayout)\nclass AutoContent implements JodaRendererInterface {\n    render(element: HTMLElement, layout: AutocontentLayout): HTMLElement {\n        let tplHtml = tpl[layout.style];\n        if (!tplHtml) throw new Error(\"Unknown style: \" + layout.style);\n\n        let main = new QTemplate(tplHtml);\n        main.parse({layout});\n\n        main.select(\"main\").append(element.childNodes);\n        element.append(main.content);\n        return main.content;\n    }\n}\n","import {DefaultLayout, jodaRenderer, JodaRendererInterface, JodaUseRenderer} from \"@leuffen/jodastyle\";\nimport {QTemplate} from \"@leuffen/jodastyle/src/helper/QTemplate\";\n\n\nclass Col2Layout extends DefaultLayout {\n\n    public order: string = \"\";\n\n    public cols: number = 8;\n\n    public side_content: string = \"\";\n\n}\n\n// language=HTML\nconst tpl = `\n<div class=\"as__2col [[layout.container]]\">\n    <div class=\"row [[layout.order]] \">\n        <div class=\":: col-12 order-2 :[[layout.break1]]: col-[[ layout.cols ]] \" data-ref=\"main\"></div>\n        <div class=\":: col-12 order-1 :[[layout.break1]]: col-[[ 12-layout.cols ]]\" data-ref=\"side\">[[ layout.side_content]]</div>\n    </div>\n    \n</div>\n`;\n@jodaRenderer(\"col2\", Col2Layout)\nclass Col2 implements JodaRendererInterface {\n    render(element: HTMLElement, layout: Col2Layout): HTMLElement {\n        let main = new QTemplate(tpl);\n        main.parse({layout});\n\n        main.select(\"main\").append(element.childNodes);\n        element.append(main.content);\n        return main.content;\n    }\n}\n","import {\n    DefaultLayout,\n    jodaRenderer,\n    JodaRendererInterface,\n    JodaUseRenderer,\n    splitChildrenBySelector\n} from \"@leuffen/jodastyle\";\nimport {QTemplate} from \"@leuffen/jodastyle/src/helper/QTemplate\";\n\n\nclass FooterLayout extends DefaultLayout {\n\n    public max_cols: number = 4;\n\n}\n\n// language=HTML\nconst tpl = `\n<div class=\"as__footer\">\n    <div class=\"[[layout.container]]\">\n        <div class=\"row [[layout.order]]\" data-ref=\"row\">\n        </div>\n    </div>\n</div>\n`;\n\n// language=HTML\nconst tplCol = `\n<div class=\"as__footer-column :: col-12 :[[layout.break1]]: col-[[ cols ]] \" data-ref=\"main\">\n    \n</div>\n`;\n\n\n@jodaRenderer(\"footer\", FooterLayout)\nclass Footer implements JodaRendererInterface {\n    render(element: HTMLElement, layout: FooterLayout): HTMLElement {\n        let main = new QTemplate(tpl);\n        main.parse({layout});\n        let children = splitChildrenBySelector(element, \"h2\");\n        let tplCol2 = new QTemplate(tplCol);\n        tplCol2.parse({layout, cols: (12 / children.length).toFixed(0)});\n\n        children.forEach(child => {\n            let row = tplCol2.clone().select(\"main\").append(child);\n            main.select(\"row\").append(row);\n        });\n        element.append(main.content);\n        return main.content;\n    }\n}\n","import {ka_html, KaTemplate} from \"@kasimirjs/embed\";\nimport {DefaultLayout, jodaRenderer, JodaRendererInterface, JodaUseRenderer} from \"@leuffen/jodastyle\";\nimport {QTemplate} from \"@leuffen/jodastyle/src/helper/QTemplate\";\n\n\n// language=HTML\nconst tpl = ka_html(`\n<div class=\"as__header [[ layout.style ]]\">\n    <div class=\"as__header-background\" data-ref=\"img\">\n    </div>\n    <div class=\"as__header-main\" >\n        <div class=\"[[ layout.container ]]\" data-ref=\"main\">\n        </div>\n    </div>\n</div>\n`);\n\n\nexport class HeaderLayout extends DefaultLayout {\n\n\n    style: string = \"default\";\n\n}\n\n@jodaRenderer(\"header\", HeaderLayout)\nclass Hero1 implements JodaRendererInterface {\n    render(element: HTMLElement, layout: HeaderLayout): HTMLElement {\n        let main = new QTemplate(tpl);\n        main.parse({layout});\n\n        let hasImage = false;\n        Array.from(element.querySelectorAll(\"img\")).forEach((el: HTMLElement) => {\n            main.select(\"img\").append(el);\n            hasImage = true;\n        });\n\n        if (! hasImage) {\n            main.select(\"img\").selected.classList.add(\"no-image\");\n        }\n\n\n        Array.from(element.children).forEach((el: HTMLElement) => {\n            main.select(\"main\").append(el);\n        })\n        element.innerHTML = \"\";\n        element.append(main.content);\n        return main.content;\n    }\n\n}\n\n\n","import {ka_html, KaTemplate} from \"@kasimirjs/embed\";\nimport {DefaultLayout, jodaRenderer, JodaRendererInterface, JodaUseRenderer} from \"@leuffen/jodastyle\";\nimport {QTemplate} from \"@leuffen/jodastyle/src/helper/QTemplate\";\n\n\n// language=HTML\nconst tpl = ka_html(`\n<div class=\"as__hero1 position-relative\" style=\"isolation: isolate\">\n    <div class=\"as__hero1_image-mobile :: d-block :[[layout.break1]]: d-none   col-[[12 - layout.cols]] \" data-ref=\"image-mobile\"></div>\n\n    <div class=\"[[layout.container]] \">\n        <div class=\"as__hero1_content-row row :: mobile :[[layout.break1]]: full_height align-items-center\">\n            \n            <div class=\"as__hero1_content [[layout.content_classes]] :: col-12 :[[layout.break1]]:  col-[[layout.cols]] \" data-ref=\"main\"></div>\n        </div>\n    </div>\n    <div class=\"position-absolute top-0 bottom-0 w-100\" style=\"z-index: -1\">\n        <div class=\"container-fluid p-0 h-100 :: d-none :[[layout.break1]]: d-block\">\n            <div class=\"row g-0 flex-lg-row-reverse h-100\">\n                <div class=\"col-[[layout.image_cols]] position-relative as__hero1_image h-100\" data-ref=\"image\">\n                    <div class=\"position-absolute image-overlay [[ layout.content_cols-layout.image_cols < 0 ? 'overlay-fade' : '']]\"></div>\n                </div>\n               \n            </div>\n            \n        </div>\n    </div>\n</div>\n`);\n\n\nexport class HeroLayout extends DefaultLayout {\n\n    /**\n     * Columns of the content overlay\n     */\n    cols : number = 6\n\n    /**\n     * set Classes of the content div\n     */\n    content_classes : string = \"\"\n\n    /**\n     * Size of the image in Background\n     */\n    image_cols : number = 6\n\n    /**\n     *\n     */\n    image_content: string = \"contentSelector(img)\"\n}\n\n@jodaRenderer(\"hero1\", HeroLayout)\nclass Hero1 implements JodaRendererInterface {\n    render(element: HTMLElement, layout: HeroLayout): HTMLElement {\n        let main = new QTemplate(tpl);\n        main.parse({layout});\n\n        Array.from(element.querySelectorAll(\".background img, img.background\")).forEach((el: HTMLElement) => {\n            main.select(\"image\").append(el.cloneNode(true));\n            main.select(\"image-mobile\").append(el);\n        });\n\n\n        Array.from(element.children).forEach((el: HTMLElement) => {\n            main.select(\"main\").append(el);\n        })\n        element.innerHTML = \"\";\n        element.append(main.content);\n        return main.content;\n    }\n\n}\n\n\n","import {ka_html, KaTemplate} from \"@kasimirjs/embed\";\nimport {DefaultLayout, jodaRenderer, JodaRendererInterface, JodaUseRenderer} from \"@leuffen/jodastyle\";\nimport {QTemplate} from \"@leuffen/jodastyle/src/helper/QTemplate\";\n\n\n// language=HTML\nconst tpl = `\n    <div class=\"as__map [[ layout.mapClass ]]\">\n        <div class=\"as__map-overlay\" data-ref=\"overlay\">\n            <img src=\"[[ layout.mapPreviewUrl ]]\" loading=\"lazy\" width=\"1461\" height=\"729\" alt=\"map preview\" />\n            <div>\n                <div>\n                    <button class=\"btn btn-secondary mx-auto my-auto btn-lg\" data-ref=\"button\">Google Maps anzeigen</button>\n                    <p class=\"mx-auto\">Mit Klick auf \"Anzeigen\" erklren Sie sich mit den Datenschutzbestimmungen einverstanden.</p>\n                </div>\n               \n            </div>\n        </div>\n        <iframe width=\"100%\" hidden title=\"Google Maps\" height=\"100%\" data-ref=\"iframe\"></iframe>\n        <script>\n        </script>\n    </div>\n`;\n\n\nexport class MapLayout extends DefaultLayout {\n\n    mapPreviewUrl: string = \"https://cdn.leuffen.de/hyperpage-components/v1.0/google-maps/maps-preview.jpg\";\n}\n\n@jodaRenderer(\"map\", MapLayout)\nclass Map implements JodaRendererInterface {\n    render(element: HTMLElement, layout: MapLayout): HTMLElement {\n        let main = new QTemplate(tpl);\n        main.parse({layout});\n\n        if ( ! element.hasAttribute(\"data-map-url\")) {\n            console.warn(\"Missing data-map-url attribute on element\", element);\n        }\n\n        main.select(\"button\").selected.addEventListener(\"click\", () => {\n            main.select(\"iframe\").selected.removeAttribute(\"hidden\");\n            main.select(\"iframe\").selected.setAttribute(\"src\", element.getAttribute(\"data-map-url\"));\n            main.select(\"overlay\").selected.setAttribute(\"hidden\", \"true\");\n        });\n\n        element.append(main.content);\n        return main.content;\n    }\n\n}\n\n\n","import {ka_create_element, ka_html, KaTemplate} from \"@kasimirjs/embed\";\nimport {DefaultLayout, jodaRenderer, JodaRendererInterface} from \"@leuffen/jodastyle\";\nimport {QTemplate} from \"@leuffen/jodastyle/src/helper/QTemplate\";\n\n\n\n// language=HTML\nconst tpl = ka_html(`\n<nav class=\"as__navbar [[layout.style]] [[layout.position]]\" style=\"z-index: 999\">\n\n    <div id=\"as__minibar\" class=\"as__minibar top\" >\n        <div class=\"[[layout.container]]\" data-ref=\"minibar\"></div>\n    </div>\n    \n    <div class=\"as__mainbar navbar navbar-expand-lg w-100\">\n        <div class=\"[[layout.container]]\" data-ref=\"main\">\n            \n            <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n                <span class=\"navbar-toggler-icon\"></span>\n            </button>\n            <div data-ref=\"navbar\" class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n\n                \n            </div>\n        </div>\n    </div>\n    \n</nav>\n`);\n\n\nexport class NavbarLayout extends DefaultLayout {\n\n    /**\n     * a additional class name added to the main element\n     * to allow for custom styling. Defaults to \"default\" (see as-navbar.scss for details)\n     */\n    style = \"default\";\n\n    /**\n     * default position: Fixed on top\n     */\n    position = \"fixed\";\n\n    /**\n     * Show fixed navbar if scrolled down more than this distance\n     */\n    fixed_scroll_distance = 10;\n}\n\n\n@jodaRenderer(\"navbar\", NavbarLayout)\nclass Navbar implements JodaRendererInterface {\n\n    public render(element: HTMLElement, layout: NavbarLayout) {\n        console.log(layout);\n\n        let original = element.cloneNode(true) as HTMLElement;\n\n\n        let template = new QTemplate(tpl);\n        element.innerHTML = \"\";\n        element.appendChild(template.content);\n\n\n        template.parse({layout});\n\n        let result = template.content;\n        let mainDiv = template.with(\"main\");\n        let navbar = template.with(\"navbar\");\n        let minibar = template.with(\"minibar\");\n\n\n\n        let navbarBrand = original.querySelector(\".navbar-brand\");\n        if (navbarBrand === null) {\n            navbarBrand = ka_create_element(\"a\", {href: \"/\"}, \"No class='navbar-brand' element\")\n        }\n\n        mainDiv.selected.insertBefore(navbarBrand, mainDiv.selected.firstElementChild);\n\n        let mainUl = original.querySelector(\"ul.mainbar\") as HTMLDivElement | null;\n        if (mainUl === null) {\n            mainUl = ka_create_element(\"ul\", {}, \"Missing ul.mainbar element\") as HTMLDivElement\n        }\n        mainUl = mainUl.cloneNode(true) as HTMLDivElement;\n        navbar.append(mainUl);\n\n        let miniUl = original.querySelector(\"ul.minibar\") as HTMLDivElement | null;\n        if (miniUl.firstElementChild === null) {\n            miniUl = null;\n        }\n        minibar.append(miniUl);\n\n        mainUl.classList.add(...\"navbar-nav navbar-nav-scroll ms-auto my-2 my-lg-0\".split(\" \"));\n\n\n        if (layout.fixed_scroll_distance !== null)\n            result.firstElementChild.classList.add(\"auto-fixed\");\n\n        result.firstElementChild.classList.add(layout.style);\n        let scolled = false;\n        let fixed = false;\n\n        window.setInterval(() => {\n            if (window.scrollY > 0 && !scolled) {\n                result.classList.add(\"scrolled\");\n                scolled = true;\n            } else if (window.scrollY === 0 && scolled) {\n                result.classList.remove(\"scrolled\");\n                scolled = false;\n            } else {\n                // nothing\n            }\n            if (layout.fixed_scroll_distance === null)\n                return;\n            if (window.scrollY > layout.fixed_scroll_distance && !fixed) {\n                result.classList.add(\"fixed\");\n                fixed = true;\n            } else if (window.scrollY <= layout.fixed_scroll_distance && fixed) {\n                result.classList.remove(\"fixed\");\n                fixed = false;\n            }\n        }, 300)\n\n\n        mainUl.querySelectorAll(\"li\").forEach(e => e.classList.add(\"nav-item\"))\n        mainUl.querySelectorAll(\"li a\").forEach(e => e.classList.add(\"nav-link\"))\n        mainUl.querySelectorAll(\"li.dropdown ul\").forEach(e => e.classList.add(\"dropdown-menu\"))\n        mainUl.querySelectorAll(\"li.dropdown ul li\").forEach(e => e.classList.add(\"dropdown-item\"))\n\n\n        element.replaceWith(template.content);\n        return template.content;\n    }\n}\n\n","import {DefaultLayout, jodaRenderer, JodaRendererInterface, JodaUseRenderer} from \"@leuffen/jodastyle\";\nimport {QTemplate} from \"@leuffen/jodastyle/src/helper/QTemplate\";\n\n\nclass TextStyleLayout extends DefaultLayout {\n\n    template: string = \"default\";\n\n    icon: string = \"bi bi-play-fill\";\n\n}\n\nlet tpl = {};\n\n// language=HTML\ntpl[\"icontext\"] = `\n<div class=\"as__textstyle-icontext\">\n    <span class=\"icon [[layout.icon]]\"></span>\n    <div class=\"text\" data-ref=\"main\">\n    </div>\n</div>\n`;\n@jodaRenderer(\"textstyle\", TextStyleLayout)\nclass TextStyle implements JodaRendererInterface {\n    render(element: HTMLElement, layout: TextStyleLayout): HTMLElement {\n        let template = tpl[layout.template];\n        if (template === undefined) throw new Error(\"Template not found: \" + layout.template);\n        let main = new QTemplate(template);\n        main.parse({layout});\n\n        main.select(\"main\").append(element.childNodes);\n        element.append(main.content);\n        return main.content;\n    }\n}\n","export * from \"./src/index\";\n","import {customElement, ka_create_element, ka_sleep} from \"@kasimirjs/embed\";\nimport {Jodasplit} from \"../processor/jodasplit\";\nimport {Jodastyle} from \"../processor/jodastyle\";\nimport {getCurrentBreakpoint, Jodaresponsive} from \"../processor/jodaresponsive\";\nimport {Logger} from \"../helper/logger\";\n\n\nfunction getCSSRule(ruleName : string) : CSSStyleRule {\n    ruleName = ruleName.toLowerCase();\n    var result = null;\n    var find = Array.prototype.find;\n\n    find.call(document.styleSheets, styleSheet => {\n        result = find.call(styleSheet.cssRules, cssRule => {\n            return cssRule instanceof CSSStyleRule\n                && cssRule.selectorText.toLowerCase() == ruleName;\n        });\n        return result != null;\n    });\n    return result;\n}\n\n\n\n@customElement(\"joda-content\")\nexport class JodaContentElement extends HTMLElement {\n\n    #origContentTemplate: HTMLTemplateElement;\n    #outputDiv : HTMLDivElement;\n\n\n    async awaitStyles() {\n        let index = 0;\n        while(true) {\n            index++;\n            if (getComputedStyle(this).getPropertyValue(\"--joda-init\") === \"true\") {\n                break;\n            }\n            if (index > 100) {\n                index = 0;\n                console.warn(\"Still waiting for --joda-init: true\", this);\n            }\n            await ka_sleep(10 + index);\n        }\n    }\n\n\n    async connectedCallback() {\n        await ka_sleep(1);\n        console.time(\"time\");\n        this.#origContentTemplate = ka_create_element(\"template\") as HTMLTemplateElement;\n        this.#outputDiv = ka_create_element(\"div\") as HTMLDivElement;\n        this.#origContentTemplate.innerHTML = this.innerHTML;\n        this.innerHTML = \"\";\n        this.appendChild(this.#origContentTemplate);\n        this.appendChild(this.#outputDiv);\n\n        console.timeLog(\"time\")\n\n        let logger = new Logger(\"joda-content\");\n        let jodaSplit = new Jodasplit(logger);\n        let jodaresponsive = new Jodaresponsive(logger);\n        let currentBreakpoint = getCurrentBreakpoint();\n\n        // Split the content\n        this.#outputDiv.appendChild(jodaSplit.process(this.#origContentTemplate.content.cloneNode(true) as DocumentFragment));\n\n        // Wait for styles to load\n        await this.awaitStyles();\n\n        // Process the content\n        console.timeLog(\"time\")\n        for(let child of Array.from(this.#outputDiv.childNodes)) {\n            let jodaStyle = new Jodastyle(logger);\n\n            await jodaStyle.process(child as HTMLElement);\n\n            console.timeLog(\"time\");\n        };\n\n        jodaresponsive.process(this.#outputDiv as HTMLElement);\n        console.timeEnd(\"time\")\n\n        window.addEventListener(\"resize\", () => {\n            if (currentBreakpoint === getCurrentBreakpoint()) {\n                return;\n            }\n            currentBreakpoint = getCurrentBreakpoint();\n            logger.log(\"Breakpoint changed to \" + currentBreakpoint);\n            this.#outputDiv.childNodes.forEach( (child) => {\n                jodaresponsive.process(child as HTMLElement);\n            });\n        });\n    }\n\n\n\n}\n","import {ka_eval} from \"@kasimirjs/embed\";\nimport {ka_create_element} from \"@kasimirjs/embed\";\n\n\n/**\n * Searches for occurence of ${javascript expression} and replaces them with the result of the expression\n */\nexport function template_parse(input : string, scope : {}, element: HTMLElement | null) : string {\n    // Search for ${...} by preg and replace them with the result of the expression\n\n    return input.replace(/\\[\\[(.*?)]]/gmi, (match, p1) => {\n        let val =  ka_eval(p1, scope, element, {});\n        return val;\n    });\n}\n\n\nexport class QTemplate {\n\n    public content : HTMLElement | HTMLDivElement\n\n    public selected : HTMLElement | HTMLDivElement | null;\n\n    constructor(content:  HTMLTemplateElement | HTMLElement | HTMLDivElement) {\n        this.content = content;\n        if (this.content instanceof HTMLTemplateElement) {\n            if (this.content.content.children.length > 1) {\n                throw new Error(\"Template must have exactly one root element. Found: \" + this.content.innerHTML);\n            }\n\n            this.content = this.content.content.firstElementChild.cloneNode(true) as HTMLElement | HTMLDivElement;\n        }\n        this.selected = null;\n\n    }\n    parse(scope : {}) : this {\n        let tpl = ka_create_element(\"template\", {}, [], null) as HTMLTemplateElement;\n        tpl.content.append(this.content);\n\n        //console.log(\"Parse\", this.content, this.content.toString());\n        tpl.innerHTML =  template_parse(tpl.innerHTML, scope, tpl);\n        this.content = tpl.content.firstElementChild as HTMLElement | HTMLDivElement;\n        return this;\n    }\n\n    /**\n     * Returns the element with the given data-ref attribute\n     * @param data_ref\n     */\n    public by(data_ref : string) : HTMLDivElement | HTMLElement {\n        return this.content.querySelector(`[data-ref=\"${data_ref}\"]`);\n    }\n\n    public select(data_ref : string) : this {\n        this.selected = this.by(data_ref);\n        if (this.selected === null) {\n            console.error(\"Element with data-ref '\" + data_ref + \"' not found.\", this.content)\n            throw \"Element with data-ref '\" + data_ref + \"' not found.\"\n        }\n        return this;\n    }\n\n    /**\n     * Select and return own wrapper\n     *\n     * @param data_ref\n     */\n    public with(data_ref : string) {\n        let instance = new QTemplate(this.content);\n        instance.select(data_ref);\n        return instance;\n    }\n\n    public append(element : Node | HTMLElement | Array<HTMLElement> | NodeList | DocumentFragment | QTemplate) : this {\n        if (element instanceof QTemplate) {\n            this.selected.append(element.content);\n            return this;\n        }\n        if (Array.isArray(element) || element instanceof NodeList) {\n            element.forEach(e => this.selected.append(e));\n            return this;\n        }\n        this.selected.append(element);\n        return this;\n    }\n\n    public clone() : QTemplate {\n        return new QTemplate(this.content.cloneNode(true) as HTMLElement | HTMLDivElement);\n    }\n\n}\n","import {ka_sleep} from \"@kasimirjs/embed\";\nimport {JodaRendererInterface} from \"./JodaRenderer\";\nimport {DefaultLayout} from \"../types/DefaultLayout\";\n\n\nexport async function await_property(object : object, property : string[] | string, wait : number = 10) {\n    if (typeof property === \"string\") {\n        property = property.split(\".\");\n    }\n    let value = undefined;\n    let index = 0;\n    while (value === undefined) {\n        index++;\n        let curObject = object;\n        for (let i = 0; i < property.length; i++) {\n            if (curObject === undefined) {\n                break;\n            }\n            curObject = curObject[property[i]];\n        }\n        value = curObject;\n        if (value === undefined)\n            await ka_sleep(wait);\n        if (index > 1000) {\n            index = 0;\n            console.warn(\"Still waiting for property: \", property, \"in object\", object);\n        }\n\n    }\n    return value;\n}\n\n\n\nexport type JodaUseRenderer = {\n    renderer: new() => JodaRendererInterface,\n    config: new() => DefaultLayout\n}\n\nexport function registerJodaRenderer(name : string, renderer : new() => JodaRendererInterface, config : new() => DefaultLayout) {\n    if (window[\"jodastyle\"] === undefined) {\n        window[\"jodastyle\"] = {};\n    }\n    if (window[\"jodastyle\"][\"renderer\"] === undefined) {\n        window[\"jodastyle\"][\"renderer\"] = {};\n    }\n    window[\"jodastyle\"][\"renderer\"][name] = {renderer, config};\n}\n\n\nexport function jodaRenderer(name : string, config : new() => DefaultLayout) {\n    return function (classOrDescriptor: new() => JodaRendererInterface) : void {\n        console.log(classOrDescriptor);\n        registerJodaRenderer(name, classOrDescriptor, config);\n    }\n}\n","import {ka_create_element} from \"@kasimirjs/embed\";\n\n\nexport function parseVariableAndStyleStr (varString : string) : any {\n    let attrs : any = {\"$\": {}, \"@\": {}};\n    let regex = new RegExp(`([@$])[^@^$]+`, \"gi\")\n    varString.replace(regex, (match: string, type: string) => {\n        match = match.substring(1);\n        if (match.indexOf(\"=\") === -1 && type === \"@\" ) {\n            if (typeof attrs[type].class === \"undefined\")\n                attrs[type].class = \"\";\n            attrs[type].class += \" \" + match;\n            attrs[type].class = attrs[type].class.trim();\n        } else {\n            let res = match.split(\"=\");\n            attrs[type][res.shift()] = res.join(\"=\").trim();\n        }\n        return \"\";\n    })\n    return attrs;\n}\n\nexport function parseVariableStr (varString : string, delimiter = \"@\") : any {\n    let attrs : any = {};\n    let regex = new RegExp(`\\\\${delimiter}[^${delimiter}]+`, \"gi\")\n    varString.replace(regex, (match: string) => {\n        match = match.substring(1);\n        if (match.indexOf(\"=\") === -1) {\n            if (typeof attrs.class === \"undefined\")\n                attrs.class = \"\";\n            attrs.class += \" \" + match;\n            attrs.class = attrs.class.trim();\n        } else {\n            let res = match.split(\"=\");\n\n            attrs[res.shift()] = res.join(\"=\").trim();\n        }\n        return \"\";\n    })\n    return attrs;\n}\n\nexport function parseAttributeStr(attrString : string ) : any {\n    return parseVariableStr(attrString, \"@\")\n}\n\nexport function createElement(definition : string) : HTMLElement {\n    let defRest = definition.trim();\n    let tag = \"div\";\n    defRest = defRest.replace(/^[a-z0-9_\\:\\-]+/ig, (match: string) => {\n        tag = match;\n        return \"\";\n    })\n    let attrs = parseAttributeStr(defRest);\n\n\n    let element = ka_create_element(tag, attrs);\n    return element;\n}\n\nexport function createElementTree (def : string) : {start: HTMLElement, leaf: HTMLElement} {\n\n    let start : HTMLElement = null;\n    let leaf : HTMLElement = null;\n\n\n\n    let splitted = def.split(\">\");\n    while(splitted.length > 0) {\n        let cur = splitted.shift();\n\n        let refName = null;\n        cur = cur.replace(/([a-z0-9_\\-]+)/, (a, name) => {\n            refName = name;\n            return \"\";\n        });\n\n\n        if (cur.trim().startsWith(\"|\")) {\n            // TextNode\n            let el = document.createElement(\"div\");\n            if (splitted.length > 0)\n                cur += \">\" + splitted.join(\">\");\n\n            el.innerHTML = cur.trim().substring(1);\n            el.childNodes.forEach((e) => leaf.append(e.cloneNode(true)));\n            el.remove();\n            break;\n        }\n\n        let el = createElement(cur);\n\n        /*if (refName !== null)\n            this.#refs[refName] = el;\n*/\n        if (start === null) {\n            start = leaf = el;\n        } else {\n            if (leaf instanceof HTMLTemplateElement) {\n                leaf.content.appendChild(el);\n            } else {\n                leaf.appendChild(el);\n\n            }\n            leaf = el;\n        }\n    }\n    return {start, leaf};\n}\n","\nexport class Logger {\n\n    constructor(public name : string) {\n    }\n    log(...args : any[]) {\n        console.log(\"[\" + this.name + \"]\", ...args);\n    }\n\n    warn(...args : any[]) {\n        console.warn(\"[\" + this.name + \"]\", ...args);\n    }\n}\n","\nexport * from \"./helper/JodaRenderer\";\n\nexport * from  \"./component/joda-content-element\";\nexport * from  \"./helper/functions\";\nexport * from  \"./helper/JodaRenderer\";\nexport * from  \"./types/DefaultLayout\";\n","import {Logger} from \"../helper/logger\";\n\n\nexport const breakpoints = {\n    \"xsm\": 0,\n    \"sm\": 576,\n    \"md\": 768,\n    \"lg\": 992,\n    \"xl\": 1200,\n    \"xxl\": 1400\n}\n\n\nexport function getCurrentBreakpoint() : string {\n    let ret = \"\";\n    Object.keys(breakpoints).forEach((key) => {\n        if (window.innerWidth >= breakpoints[key]) {\n            ret = key;\n        }\n    });\n    return ret;\n}\n\nclass ResponsiveClass {\n    always: string[] = [];\n    default: string[] = null;\n    xsm: null = null;\n    xs: string[] = null;\n    sm: string[] = null;\n    md: string[] = null;\n    lg: string[] = null;\n    xl: string[] = null;\n    xxl: string[] = null;\n\n    breakpoints = [\"xsm\", \"xs\", \"sm\", \"md\", \"lg\", \"xl\", \"xxl\"];\n\n    getClassesForBreakpoint(breakpoint : string = null) : string[] {\n        if (breakpoint === null) {\n            breakpoint = getCurrentBreakpoint();\n        }\n\n\n        let ret = [];\n        ret.push(...this.always);\n        let isDefault = true;\n        for (let bp of this.breakpoints) {\n            if (this[bp] !== null) {\n                ret.push(...this[bp]);\n                isDefault = false;\n            }\n            if (bp === breakpoint) {\n                break;\n            }\n        }\n        if (isDefault) {\n            ret.push(...this.default);\n        }\n        ret = ret.filter((item) => item !== \"\");\n        return ret;\n    };\n}\n\nexport function parseClassStr(input : string) : ResponsiveClass {\n    let ret = new ResponsiveClass();\n    let pointer = \"always\";\n    input.split(\" \").map((item) => {\n        let matches = item.match(/\\:([a-zA-Z]*)\\:/);\n        if (matches === null) {\n            ret[pointer].push(item);\n            return;\n        }\n        pointer = matches[1];\n        if (pointer === \"\") {\n            pointer = \"default\";\n        }\n        if (ret[pointer] === null) {\n            ret[pointer] = [];\n        }\n    });\n    return ret;\n}\n\n\nexport class Jodaresponsive {\n\n\n    constructor(public logger : Logger) {\n    }\n\n    private processNode(node : HTMLElement) {\n        const origAttr = \"data-class-orig\";\n        if ( ! node.hasAttribute(origAttr)) {\n            let classes = node.getAttribute(\"class\") ?? \"\";\n            if (classes.indexOf(\":\") === -1)\n                return;\n            node.setAttribute(origAttr, classes);\n        }\n        let classes = node.getAttribute(origAttr);\n        let responsiveClasses = parseClassStr(classes);\n\n        node.setAttribute(\"class\", \"\");\n        node.classList.add(...responsiveClasses.getClassesForBreakpoint());\n\n    }\n\n    process(node : HTMLElement) {\n        Array.from([node, ...Array.from(node.querySelectorAll<HTMLElement>(\"*\"))]).forEach((child) => {\n            this.processNode(child);\n        });\n\n    }\n\n\n}\n","import {ka_create_element} from \"@kasimirjs/embed\";\nimport {Logger} from \"../helper/logger\";\n\n\ninterface JodaSplitConfig {\n\n\n}\n\n\nexport class Jodasplit {\n    #target = document.createDocumentFragment();\n    #parents = [this.#target];\n    #currentParent : HTMLElement = ka_create_element(\"section\", {class: \"section-h1pre\"})\n\n\n    constructor(public logger : Logger) {\n    }\n\n    private findParentElement(layer : number) : HTMLElement | DocumentFragment {\n        while (this.#parents.length > layer) {\n            this.#parents.pop();\n        }\n        while (this.#parents[this.#parents.length - 1] === undefined) {\n            this.#parents.pop();\n        }\n        return this.#parents[this.#parents.length - 1];\n    }\n\n\n    private createNewElement(tagName : string, layer : number, tag : string) : HTMLElement {\n        tagName = tagName.toLowerCase();\n        let curParent = this.findParentElement(layer)\n        //console.log(\"createNewElement\", tagName, curParent, this.#parents);\n        this.#currentParent =  ka_create_element(tag, {class: \"section-\" + tagName});\n        while (this.#parents.length < layer) {\n            this.#parents.push(undefined as any);\n        }\n        this.#parents.push(this.#currentParent as any);\n        curParent.appendChild(this.#currentParent);\n        return this.#currentParent;\n    }\n\n    process (source : DocumentFragment) : DocumentFragment {\n        let lastLayer = 1;\n        this.#target.append(this.#currentParent);\n        Array.from(source.children).forEach((child : Element) => {\n\n            if (child instanceof HTMLElement && child.matches(\"h1, h2, h3, h4, h5, h6, h7, h8, h9, hr\")) {\n                let layer = 1;\n                let tag = \"div\";\n\n                if (child.matches(\"h1, h2\")) {\n                    layer = lastLayer = 1;\n                    tag = \"section\";\n                } else if (child.matches(\"h3, h4, h5, h6, h7, h8, h9\")) {\n                    layer = lastLayer = parseInt(child.tagName.substr(1)) * 2; // Allow HR in between\n                    tag = \"div\";\n                } else if (child.matches(\"hr\")) {\n                    layer = lastLayer + 1; // hr crates subelement of the last element\n                    tag = \"div\";\n                }\n\n                let e = this.createNewElement(child.tagName.toLowerCase(), layer, tag);\n                e.classList.add(...child.classList as any);\n            }\n            this.#currentParent.appendChild(child);\n        });\n        return this.#target;\n    }\n}\n","import {createElementTree} from \"../helper/ka-quick-template\";\nimport {await_property, JodaUseRenderer} from \"../helper/functions\";\nimport {Logger} from \"../helper/logger\";\n\ntype Commands = {\n    [command: string]: ((value : string, target : HTMLDivElement, element : HTMLElement, logger : Logger) => HTMLElement|Promise<HTMLElement>);\n}\n\nexport let jodaStyleCommands : Commands = {};\n\n\n\njodaStyleCommands[\"--joda-replace-by\"] = (value : string, target, element : HTMLElement, logger : Logger) => {\n    let parent = element.parentElement;\n    let ret = createElementTree(value)\n\n    parent.replaceChild(ret.start, element);\n\n    Array.from(element.children).forEach((child) => {\n        ret.leaf.append(child);\n    });\n    element.remove();\n    return ret.leaf;\n}\n\njodaStyleCommands[\"--joda-wrap\"] = (value : string, target, element : HTMLElement, logger : Logger) => {\n    let parent = element.parentElement;\n    let ret = createElementTree(value)\n\n    parent.replaceChild(ret.start, element);\n\n    ret.leaf.append(element);\n    return element;\n}\n\njodaStyleCommands[\"--joda-wrap-same\"] = (value : string, target, element : HTMLElement, logger : Logger) => {\n    if (element[\"jodaIsWrappedSame\"] !== undefined) {\n        return element;\n    }\n    let parent = element.parentElement;\n    let ret = createElementTree(value)\n\n    parent.replaceChild(ret.start, element);\n\n\n    ret.leaf.append(element);\n\n    return element;\n}\n\njodaStyleCommands[\"--joda-class\"] = (value : string, target, element : HTMLElement, logger: Logger) => {\n    let ret = createElementTree(value)\n\n    element.setAttribute(\"class\", element.getAttribute(\"class\") + \" \" + value);\n\n    return element;\n}\n\njodaStyleCommands[\"--joda-use\"] = async(value : string, target, element : HTMLElement, logger : Logger) => {\n    let matches = value.match(/([a-z0-9\\_-]+)\\s*\\((.*?)\\)/);\n    if ( ! matches) {\n        console.error(\"Invalid --joda-use command: \", value, \"in element\", element, \" should be in format: commandName(arg1: value1, arg2: value2, ...)\");\n        throw \"Invalid --joda-use command: \" + value + \" should be in format: commandName(arg1: value1, arg2: value2, ...)\";\n    }\n    logger.log(\"Using renderer: \", matches[1], \"with args: \", matches[2], \"on element\", element);\n    let commandName = matches[1];\n    let args = JSON.parse(\"{\" + matches[2] + \"}\");\n    let command = await await_property(window, [\"jodastyle\", \"renderer\", commandName]) as JodaUseRenderer;\n\n    let config = new command.config();\n    let style = getComputedStyle(element);\n\n    Object.keys(config).forEach((key) => {\n        let val = style.getPropertyValue(\"--layout-\" + key.replace(/\\_/g, \"-\"));\n        if (val !== \"\") {\n            config[key] = val.replace(/^[\"']/g, '').replace(/[\"']$/, '').trim();\n        }\n\n    });\n    Object.assign(config, args);\n\n    return await (new command.renderer).render(element, config);\n}\n","import {jodaStyleCommands} from \"./jodastyle-commands\";\nimport {Logger} from \"../helper/logger\";\n\n\nexport class Jodastyle {\n\n\n    constructor(public logger : Logger) {\n    }\n\n    public async process(node : HTMLElement) {\n\n        for (let child of [node, ...Array.from(node.querySelectorAll<HTMLElement>(\"*\"))]) {\n            let style = getComputedStyle(child);\n            let keys = Object.keys(jodaStyleCommands);\n            for (let key of Array.from(keys)) {\n\n                let styleValue = style.getPropertyValue(key);\n                if (styleValue === \"\") {\n                    continue;\n                }\n                if (styleValue === getComputedStyle(child.parentElement).getPropertyValue(key)) {\n                    continue; // Inherited from parent\n                }\n\n                // Replace starting and ending with \" or ' with nothing\n                styleValue = styleValue.trim().replace(/^[\"']/g, '').replace(/[\"']$/, '').trim();\n\n                let command = jodaStyleCommands[key];\n                child = await command(styleValue, node as HTMLDivElement, child, this.logger) as HTMLElement;\n            }\n        }\n    }\n}\n","\n\nexport class DefaultLayout {\n\n\n    public container : \"container\" | \"container-fluid\" = \"container\";\n\n\n    public break1: \"sm\" | \"md\" | \"lg\" | \"xl\" | \"xxl\" = \"xl\";\n\n}\n","\nexport * from './src/index'\n","\nexport function ka_html(htmlContent : string) : HTMLTemplateElement {\n    let e = document.createElement(\"template\");\n    e.innerHTML = htmlContent;\n    return e;\n}\n","import {ka_load_html} from \"./loadHtml\";\n\n\nexport class RemoteTemplate {\n    private  tpl: null | HTMLElement;\n    constructor(\n        public url : string\n    ) {\n        this.tpl = null;\n    }\n\n    /**\n     *\n     * @return {Promise<HTMLTemplateElement>}\n     */\n    async load() {\n        if (this.tpl === null)\n            this.tpl = await ka_load_html(this.url);\n        return this.tpl;\n    }\n}\n\n\n/**\n * Load the Template on usage from remote location\n *\n *\n * @param url {string}\n * @return {RemoteTemplate}\n */\nfunction htmlUrl(url : string) : RemoteTemplate {\n    return new RemoteTemplate(url);\n}\n","import {KaToolsV1} from \"../core/init\";\n\n/**\n *\n * @param url {string}\n * @return {Promise<HTMLTemplateElement>}\n */\nexport async function ka_load_html (url : string) : Promise<HTMLTemplateElement> {\n    let e = document.createElement(\"template\");\n    let result = await fetch(url);\n    if ( ! result.ok) {\n        console.error(`[loadHtml] failed to load '${url}'`);\n        throw `[loadHtml] failed to load '${url}'`\n    }\n    let body = await result.text();\n    e.innerHTML = body;\n    return e;\n}\n","\n/**\n * Create a new Element\n *\n * @param tagName {string}      The Tag Name\n * @param attributes {string<string>}   Attributes to set initially\n * @param appendToElement {HTMLElement}\n * @param children {HTMLElement[]}\n * @return HTMLElement\n */\nexport function ka_create_element (tagName : string, attributes : any = null,  children : HTMLElement[] | NodeList | string = null, appendToElement : ParentNode = null) : HTMLElement{\n    let e = document.createElement(tagName);\n    if (attributes === null)\n        attributes = {}\n\n    for(let attName in attributes) {\n        e.setAttribute(attName, attributes[attName]);\n    }\n\n    if (children instanceof NodeList) {\n        children = Array.from(children) as HTMLElement[];\n    }\n\n    if (Array.isArray(children)) {\n        for(let ce of children) {\n            e.appendChild(ce);\n        }\n    }\n\n    if (typeof children === \"string\") {\n        e.innerText = children;\n    }\n\n    if (appendToElement !== null) {\n        appendToElement.appendChild(e);\n    }\n    return e;\n}\n","\n\nconst _debounceInterval = {i: null as number|null, time: null as number|null};\n\n/**\n * Debounce a event\n *\n *\n *\n * @param min   Minimum Time to wait\n * @param max   Trigger event automatically after this time\n * @return {Promise<unknown>}\n */\nexport async function ka_debounce (min : number, max : number=null) : Promise<void> {\n    if (max === null)\n        max = min;\n    let dbi = _debounceInterval;\n    return new Promise<void>((resolve) => {\n        if (dbi.time < (+new Date()) - max && dbi.i !== null) {\n            return resolve();\n        }\n        if (dbi.i !== null) {\n            return;\n        }\n        dbi.time = (+new Date());\n        dbi.i = window.setTimeout(() => {\n            dbi.i = null;\n            return resolve();\n\n        }, min);\n    });\n\n}\n","\nexport class Debouncer {\n\n    constructor( private min : number = 100, private max : number = null) {\n    }\n\n    #resolve : any[] = [];\n    #interval : any = null;\n    #time : any = null;\n\n    async debounce(min : number = this.min, max : number=this.max) : Promise<void> {\n        if (max === null)\n            max = min;\n\n        if (this.#interval !== null) {\n            window.clearInterval(this.#interval);\n        }\n\n        this.#interval = window.setInterval(() => {\n            this.#resolve.forEach(r => r());\n            this.#resolve = [];\n            window.clearInterval(this.#interval);\n        }, min);\n\n        return new Promise<void>((resolve) => {\n            this.#resolve.push(resolve);\n        });\n    }\n}\n","\n\n/**\n * Wait for DomContentLoaded or resolve immediate\n *\n * <example>\n * await MicxToolsVx.domReady();\n * </example>\n *\n * @return {Promise<string>}\n */\nexport async function ka_dom_ready () : Promise<string> {\n    return new Promise<string>((resolve) => {\n        if (document.readyState === \"complete\" || document.readyState === \"interactive\")\n            return resolve(\"loaded\");\n\n        document.addEventListener(\"DOMContentLoaded\", ()=>resolve('DOMContentLoaded'));\n    });\n}\n","\n\nexport function ka_set_options(element : HTMLSelectElement, options: any, value : string | null = null) {\n    element.innerHTML = \"\";\n    for (let option in options) {\n        if (isNaN(option as any)) {\n            element.appendChild(new Option(options[option], option));\n        } else {\n            if (typeof options[option].text !== \"undefined\") {\n                element.appendChild(new Option(options[option].text, options[option].value));\n            } else {\n                element.appendChild(new Option(options[option], options[option]));\n            }\n        }\n    }\n    if (value !== null)\n        element.value = value;\n}\n","\n/**\n * Query a Element or trigger an Exception\n *\n * @param query\n * @param parent\n * @param exception\n * @return {HTMLElement}\n */\nexport function ka_query_selector (query, parent : HTMLElement | Node = null, exception : any = null) : HTMLElement{\n    if (typeof exception === \"undefined\")\n        exception = `querySelector '${query}' not found`\n    if (typeof parent === \"undefined\" || parent === null)\n        parent = document;\n    let e = parent.querySelectorAll(query);\n    if (e.length === 0) {\n        console.warn(exception, \"on parent: \", parent);\n        throw exception;\n    }\n    return e[0];\n}\n","\nexport async function ka_sleep(sleepms : number) : Promise<void> {\n    return new Promise<void>((resolve) => {\n        window.setTimeout(() => {\n            return resolve();\n        }, sleepms);\n    });\n}\n","/**\n * Return a Proxy handling saving / deleting / updating the object in the localStorage\n * @param object\n * @param scopeName\n */\nexport function ka_session_storage<T>(object : T | null, scopeName : string = null) : T {\n    if (scopeName == null) {\n        scopeName = \"ka_session_storage\";\n    }\n    if (object === null) {\n        sessionStorage.removeItem(scopeName);\n        return;\n    }\n    if (sessionStorage.getItem(scopeName) == null) {\n        sessionStorage.setItem(scopeName, JSON.stringify(object));\n    }\n    let savedObject = JSON.parse(sessionStorage.getItem(scopeName));\n\n    for (let key in object) {\n        if (typeof savedObject[key] === \"undefined\") {\n            savedObject[key] = object[key];\n        }\n    }\n\n    let proxy = new Proxy(savedObject, {\n        set: function (target, property, value, receiver) {\n            target[property] = value;\n            sessionStorage.setItem(scopeName, JSON.stringify(target));\n            return true;\n        }\n    });\n    return proxy;\n}\n","import {createScopeObject, KaScope, KaScopeType} from \"../types\";\nimport {isset} from \"../functions\";\nimport {ka_templatify} from \"../tpl/templatify\";\nimport {ka_html} from \"../ce/html\";\nimport {KaTemplate} from \"../tpl/template\";\nimport {KaCustomFragment} from \"./KaCustomFragment\";\nimport {KaCustomWrapper} from \"./KaCustomWrapper\";\n\n\nexport class KaCustomElement extends HTMLElement {\n    public __html = \"<div>No template defined</div>\";\n\n    protected readonly scope : KaScope = createScopeObject();\n    protected tplPrototype : HTMLElement = null;\n    protected wrapper : KaCustomWrapper = null;\n    private tpl : HTMLElement\n\n    public init<T extends KaScope>(scope : T) : KaScopeType | T | KaScope  {\n        // Check template set by customElement annotation\n        if (isset (this.constructor[\"html\"]))\n            this.__html = this.constructor[\"html\"];\n\n        if (this.tplPrototype === null) {\n            this.tplPrototype = ka_templatify(ka_html(this.__html));\n        }\n\n        this.scope.init(scope);\n        return this.scope;\n    }\n\n    protected wrap(fragment : KaCustomWrapper) {\n        this.wrapper = fragment;\n    }\n\n\n    setParentScope(scope : KaScope) {\n        this.scope.$parent = scope;\n    }\n\n    async connectedCallback() {\n        this.setAttribute(\"ka.stop\", \"true\");\n\n        if ( ! this.scope.isInitialized())\n            this.init({});\n\n        this.tpl = this.tplPrototype.cloneNode(true) as HTMLElement;\n\n        if (this.wrapper !== null) {\n            this.append(this.wrapper.wrapTemplate(this.tpl));\n            await this.wrapper.fragmentConnectedCallback();\n        } else {\n            this.append(this.tpl);\n        }\n\n        this.scope.$tpl = new KaTemplate(this.tpl);\n    }\n\n    disconnectedCallback() {\n        this.scope.$tpl.dispose();\n    }\n}\n","import {createScopeObject, KaScope} from \"../types\";\nimport {isset} from \"../functions\";\nimport {ka_templatify} from \"../tpl/templatify\";\nimport {ka_html} from \"../ce/html\";\nimport {KaTemplate} from \"../tpl/template\";\nimport {ka_sleep} from \"../core/sleep\";\n\n\nexport class KaCustomFragment {\n    protected readonly scope : KaScope = createScopeObject();\n    protected html : string = null\n    private tplPrototype : HTMLElement\n    private tpl : HTMLElement\n\n    public init<T extends KaScope>(scope : T) : T | KaScope {\n        // Check template set by customElement annotation\n        if (isset(this.constructor[\"html\"]) && this.html === null)\n            this.html = this.constructor[\"html\"];\n\n        if ( ! isset (this.tplPrototype))\n            this.tplPrototype = ka_templatify(ka_html(this.html));\n\n        this.scope.init(scope);\n\n        return this.scope;\n    }\n\n\n    setParentScope(scope : KaScope) {\n        this.scope.$parent = scope;\n    }\n\n    setScope(scope : KaScope) {\n        this.scope.importFrom(scope);\n    }\n\n    async fragmentConnectedCallback(parentElement : HTMLElement) {\n        parentElement.setAttribute(\"ka.stop\", \"true\");\n\n        if ( ! this.scope.isInitialized()) {\n           this.init({});\n        }\n\n        this.tpl = this.tplPrototype.cloneNode(true) as HTMLElement;\n        this.scope.$tpl = new KaTemplate(this.tpl);\n        parentElement.append(this.tpl);\n\n        await ka_sleep(1);\n        this.scope.render();\n    }\n\n    fragmentDisconnectedCallback() {\n        this.scope.$tpl.dispose();\n    }\n}\n","import {createScopeObject, KaScope} from \"../types\";\nimport {isset} from \"../functions\";\nimport {ka_templatify} from \"../tpl/templatify\";\nimport {ka_html} from \"../ce/html\";\nimport {KaModalConfig} from \"./KaModalConfig\";\nimport {ka_create_element} from \"../core/create-element\";\nimport {KaTemplate} from \"../tpl/template\";\n\n\nexport class KaCustomModal {\n    protected readonly scope : KaScope = createScopeObject();\n    private __html = \"<div>No Template defined</div>\"\n    private tplPrototype : HTMLElement\n    private tpl : HTMLElement\n\n    public element : HTMLElement;\n    public backdrop: HTMLElement;\n    #main : HTMLElement;\n    #configDefaults : KaModalConfig = {\n        parentElement: document.body,\n        zIndex: 9999,\n        styleBase: \"position:fixed; top:0; bottom:0; left:0; right:0;\",\n        styleBackdrop: \"background-color: #999;opacity:0.5;\",\n        maxWidth: 800,\n    }\n\n    #promise = {\n        promise: null as Promise<any> | null,\n        reject: null as (...params : any) => void | null,\n        resolve: null as (...params : any) => void | null,\n    }\n\n    adjustWidth(modalConfig: KaModalConfig) {\n        let w = window.innerWidth;\n        if (w > modalConfig.maxWidth)\n            w = modalConfig.maxWidth;\n        this.#main.style.width = w + \"px\";\n    }\n\n\n    constructor(tagName : string = \"ka-modal\", shadowRootInit: ShadowRootInit | null = null, modalConfig : KaModalConfig = {}) {\n        let config : KaModalConfig = this.#configDefaults;\n        config = {\n            ...config,\n            ...modalConfig\n        }\n        this.element = ka_create_element(tagName, {hidden: \"hidden\"}, null, config.parentElement);\n        this.backdrop = ka_create_element(\"div\", {style: `${config.styleBase};${config.styleBackdrop};z-index:${config.zIndex};`}, null, this.element);\n        let master = ka_create_element(\"div\", {style: `position:fixed;left:0;right:0;top:0;bottom:0;display:flex;justify-content:center;z-index:${config.zIndex+1};`}, null, this.element);\n        this.#main = ka_create_element(\"div\", {style: `;max-height:100%;max-width:100%;`}, null, master);\n\n        this.adjustWidth(config);\n\n        this.#promise.promise = new Promise((resolve, reject) => {this.#promise.resolve = resolve; this.#promise.reject = reject})\n    }\n\n\n    public init<T extends KaScope>(scope : T) : T | KaScope {\n        // Check template set by customElement annotation\n        if (isset(this.constructor[\"html\"]))\n            this.__html = this.constructor[\"html\"];\n\n        if ( ! isset (this.tplPrototype))\n            this.tplPrototype = ka_templatify(ka_html(this.__html));\n\n        this.scope.init(scope);\n\n        return this.scope;\n    }\n\n\n    setParentScope(scope : KaScope) {\n        this.scope.$parent = scope;\n    }\n\n    setScope(scope : KaScope) {\n        this.scope.importFrom(scope);\n    }\n\n    public resolve(value : any) : void {\n        this.element.remove();\n        this.#promise.resolve(value);\n    }\n\n    async show(...params: any[]) : Promise<any> {\n\n        if ( ! this.scope.isInitialized()) {\n           this.init({});\n        }\n\n        this.tpl = this.tplPrototype.cloneNode(true) as HTMLElement;\n        this.scope.$tpl = new KaTemplate(this.tpl);\n        this.#main.append(this.tpl);\n\n        this.element.removeAttribute(\"hidden\");\n        this.scope.render();\n\n        return this.#promise.promise;\n    }\n\n    fragmentDisconnectedCallback() {\n        this.scope.$tpl.dispose();\n    }\n}\n","import {createScopeObject, KaScope} from \"../types\";\nimport {isset} from \"../functions\";\nimport {ka_templatify} from \"../tpl/templatify\";\nimport {ka_html} from \"../ce/html\";\nimport {KaTemplate} from \"../tpl/template\";\nimport {ka_sleep} from \"../core/sleep\";\nimport {ka_create_element} from \"../core/create-element\";\n\n\nexport class KaCustomWrapper {\n    protected readonly scope : KaScope = createScopeObject();\n    protected html : string = null\n    private tplPrototype : HTMLElement\n    private tpl : HTMLElement\n\n    public init<T extends KaScope>(scope : T) : T | KaScope {\n        // Check template set by customElement annotation\n        if (isset(this.constructor[\"html\"]) && this.html === null)\n            this.html = this.constructor[\"html\"];\n\n        if ( ! isset (this.tplPrototype))\n            this.tplPrototype = ka_templatify(ka_html(this.html));\n\n        this.scope.init(scope);\n\n        return this.scope;\n    }\n\n\n    private returnedTpl : HTMLElement;\n\n    public wrapTemplate(tpl : HTMLElement) : HTMLElement {\n        let wrapelem = ka_create_element(\"div\");\n        wrapelem.setAttribute(\"ka.stop\", \"true\");\n        this.scope.$content = tpl;\n        this.returnedTpl = wrapelem;\n        return wrapelem;\n    }\n\n    async fragmentConnectedCallback() {\n        if ( ! this.scope.isInitialized()) {\n           this.init({});\n        }\n\n        this.tpl = this.tplPrototype.cloneNode(true) as HTMLElement;\n        this.scope.$tpl = new KaTemplate(this.tpl);\n        this.returnedTpl.append(this.tpl);\n\n        await ka_sleep(1);\n        this.scope.render();\n    }\n\n    fragmentDisconnectedCallback() {\n        this.scope.$tpl.dispose();\n    }\n}\n","import {AbstractElement} from \"./AbstractElement\";\nimport {KaTemplate} from \"../tpl/template\";\nimport {ka_templatify} from \"../tpl/templatify\";\nimport {ka_html} from \"../ce/html\";\nimport {isset} from \"../functions\";\n\n/**\n * @deprecated\n */\nexport abstract class KaHtmlElement extends HTMLElement implements AbstractElement  {\n\n    constructor(\n        protected shadowRootInit: ShadowRootInit | null = null\n    ) {\n        super();\n        this.addEventListener(\"load\", (e) => console.log(e));\n    }\n\n    abstract connected() : Promise<void>;\n    abstract disconnected() : Promise<void>;\n\n    /**\n     * The HTML Template to define for this Element\n     *\n     * <example>\n     *     html = (element: KaHtmlElement) => `<div ka.for...></div>`;\n     *     html = `<div ka.for=\"let e of element\"></div>`\n     * </example>\n     *\n     */\n    abstract html : ((element: KaHtmlElement)=>Promise<HTMLTemplateElement|string>) | HTMLTemplateElement | string | null;\n\n    protected $tpl : KaTemplate;\n\n    public async connectedCallback() {\n        let htmlTpl : any = null;\n        if (typeof this.html === \"function\") {\n            let fn = this.html as (element: KaHtmlElement)=>Promise<HTMLTemplateElement|string>;\n            htmlTpl = await fn(this);\n        } else {\n            htmlTpl = this.html;\n        }\n\n        if (typeof htmlTpl === \"string\")\n            htmlTpl = ka_html(htmlTpl);\n\n        let attachTo: ShadowRoot|HTMLElement = this;\n        if (this.shadowRootInit !== null) {\n            attachTo = this.attachShadow(this.shadowRootInit);\n        }\n\n        if (isset(htmlTpl)) {\n            let tpl;\n            try {\n                tpl = ka_templatify(htmlTpl);\n            } catch (e) {\n                console.error(\"Templatify failed on element\", this, \"for template\", htmlTpl)\n                throw e;\n            }\n\n            this.$tpl = new KaTemplate(tpl);\n            attachTo.appendChild(tpl);\n        }\n\n        this.connected()\n    }\n\n    public async disconnectedCallback() {\n        this.$tpl.dispose();\n        this.disconnected();\n    }\n}\n","import {KaTemplate} from \"../tpl/template\";\nimport {ka_create_element} from \"../core/create-element\";\nimport {ka_html} from \"../ce/html\";\nimport {ka_templatify} from \"../tpl/templatify\";\nimport {KaModalConfig} from \"./KaModalConfig\";\nimport {createScopeObject} from \"../types\";\n\n\n\nexport class KaModal {\n    protected readonly scope = createScopeObject();\n\n    public element : HTMLElement;\n    public backdrop: HTMLElement;\n    #main : HTMLElement;\n\n    protected $tpl : KaTemplate = null;\n\n    #configDefaults : KaModalConfig = {\n        parentElement: document.body,\n        zIndex: 9999,\n        styleBase: \"position:fixed; top:0; bottom:0; left:0; right:0;\",\n        styleBackdrop: \"background-color: #999;opacity:0.5;\",\n        maxWidth: 800,\n    }\n\n    #promise = {\n        promise: null as Promise<any> | null,\n        reject: null as (...params : any) => void | null,\n        resolve: null as (...params : any) => void | null,\n    }\n\n    adjustWidth(modalConfig: KaModalConfig) {\n        let w = window.innerWidth;\n        if (w > modalConfig.maxWidth)\n            w = modalConfig.maxWidth;\n        this.#main.style.width = w + \"px\";\n    }\n\n\n    constructor(tagName : string = \"ka-modal\", shadowRootInit: ShadowRootInit | null = null, modalConfig : KaModalConfig = {}) {\n        let config : KaModalConfig = this.#configDefaults;\n        config = {\n            ...config,\n            ...modalConfig\n        }\n        this.element = ka_create_element(tagName, {hidden: \"hidden\"}, null, config.parentElement);\n        this.backdrop = ka_create_element(\"div\", {style: `${config.styleBase};${config.styleBackdrop};z-index:${config.zIndex};`}, null, this.element);\n        let master = ka_create_element(\"div\", {style: `position:fixed;left:0;right:0;top:0;bottom:0;display:flex;justify-content:center;z-index:${config.zIndex+1};`}, null, this.element);\n        this.#main = ka_create_element(\"div\", {style: `;max-height:100%;max-width:100%;`}, null, master);\n\n        this.adjustWidth(config);\n\n        this.#promise.promise = new Promise((resolve, reject) => {this.#promise.resolve = resolve; this.#promise.reject = reject})\n    }\n\n    public render(scope : any = null) {\n        if (this.$tpl === null) {\n            let html = this.html as unknown;\n            if (typeof html === \"string\") {\n                html = ka_html(html);\n            }\n\n            if ( ! (html instanceof HTMLTemplateElement)) {\n                console.error(\"html is not HtmlTemplateElement\", html, \"on\", this);\n                throw \"html is not HtmlTemplateElement\"\n            }\n            console.log(\"html\", html);\n            let elem;\n            try {\n                elem = ka_templatify(html as HTMLTemplateElement);\n            } catch (e) {\n                console.log(\"error templatify for element\", this, \":\", e);\n                throw e;\n            }\n\n            this.#main.appendChild(elem);\n            this.$tpl = new KaTemplate(elem);\n        }\n\n        this.$tpl.render(scope);\n    }\n\n    public resolve(value : any) : void {\n        this.element.remove();\n        this.#promise.resolve(value);\n    }\n\n    public show(...params : any[]) : Promise<any> {\n        this.element.removeAttribute(\"hidden\");\n        return this.#promise.promise;\n    }\n\n    /**\n     * The HTML Template to define for this Element\n     *\n     * <example>\n     *     html = (element: KaHtmlElement) => `<div ka.for...></div>`;\n     *     html = `<div ka.for=\"let e of element\"></div>`\n     * </example>\n     *\n     */\n    // language=html\n    public html : ((element: KaModal)=> string) | string | Promise<HTMLTemplateElement|string> | HTMLTemplateElement | null;\n\n\n\n}\n\n\n\n","import {customElement, isset} from \"../functions\";\nimport {KaCustomFragment} from \"./KaCustomFragment\";\nimport {KaScope} from \"../types\";\n\n@customElement(\"ka-use\")\nexport class KaUse extends HTMLElement {\n\n    private myComponent : HTMLElement;\n\n    get component() : HTMLElement{\n        return this.myComponent\n    }\n\n    set component(val: HTMLElement) {\n        this.myComponent = val;\n        this.innerHTML = \"\";\n        this.append(val);\n    }\n\n    /**\n     * called from ka.use=\"\" by apply()\n     *\n     * @param val\n     */\n    public use(val : HTMLElement, parentScope : KaScope) {\n\n\n        if (isset(val[\"setParentScope\"]))\n            val[\"setParentScope\"](parentScope);\n\n        this.myComponent = val;\n        this.innerHTML = \"\";\n\n        // If not specified scope is the parent scope.\n        if ( ! this.hasAttribute(\"ka.scope\"))\n            val[\"setScope\"](parentScope);\n\n        if (val instanceof KaCustomFragment) {\n            val.fragmentConnectedCallback(this);\n            return;\n        }\n\n        this.append(val);\n    }\n\n    /**\n     * set dedicated scope using ka.scope\n     *\n     * @param scope\n     */\n    public setScope(scope : KaScope) {\n        if (this.myComponent instanceof KaCustomFragment) {\n            this.myComponent.setScope(scope);\n        }\n    }\n\n    disconnectedCallback() {\n\n    }\n\n    connectedCallback() {\n        this.style.display = \"contents\";\n        this.setAttribute(\"ka.stop\", \"true\");\n        if (this.myComponent instanceof KaCustomFragment) {\n            this.myComponent.fragmentConnectedCallback(this);\n        }\n    }\n}\n","/**\n * Check if parameter 1 is undefined or null\n *\n * @param input\n */\nimport {KaScope} from \"./types\";\nimport {KaTemplate} from \"./tpl/template\";\nimport {ka_debounce} from \"./core/debounce\";\nimport {ka_templatify} from \"./tpl/templatify\";\nimport {ka_html} from \"./ce/html\";\nimport {ka_sleep} from \"./core/sleep\";\n\n\n/**\n * Check if parameter is undefined or null\n *\n * @param input\n */\nexport function isset(input : any) : boolean {\n    return  (typeof input !== \"undefined\" && input !== null)\n}\n\nexport function isUndefined(input : any) : boolean {\n    return (typeof input === \"undefined\");\n}\n\n/**\n * Defines a customElement\n *\n * Usage as class decorator @customElement(\"some-tag\")\n *\n * @param tagName\n */\nexport function customElement(tagName : string, template : string = null) {\n    return function (classOrDescriptor: any) : void {\n        if (template !== null) {\n            classOrDescriptor.html = template;\n        }\n\n        console.debug(\"registering custom element\", classOrDescriptor, tagName);\n        customElements.define(tagName, classOrDescriptor);\n        return classOrDescriptor;\n    }\n}\n\n\nexport async function ka_await_element(selector : string, parent : ParentNode = document,  maxWait : number = 2000) : Promise<HTMLElement> {\n    let elem = parent.querySelector(selector);\n    let rounds = 1;\n    while(elem === null && maxWait > 0) {\n        let delay = 20 * rounds++;\n        await ka_sleep(delay);\n        elem = parent.querySelector(selector);\n        maxWait -= delay;\n    }\n    return elem as HTMLElement;\n}\n\n\n\nexport function template(template : string | HTMLTemplateElement) {\n     return function (classOrDescriptor: any) : void {\n\n         classOrDescriptor.html = template;\n\n         return classOrDescriptor;\n     }\n}\n","export * from \"./functions\";\nexport * from \"./types\";\n\nexport * from \"./core/sleep\";\nexport * from \"./core/debounce\";\nexport * from \"./core/create-element\";\nexport * from \"./core/ka-set-options\";\n\nexport {ka_dom_ready} from \"./core/dom-ready\";\nexport * from \"./element/KaHtmlElement\";\nexport * from \"./element/KaCustomElement\";\nexport * from \"./element/KaCustomFragment\";\nexport * from \"./element/KaCustomWrapper\";\nexport * from \"./element/KaCustomModal\";\nexport * from \"./tpl/template\";\nexport * from \"./element/KaModal\"\nexport * from \"./element/ka-use\"\nexport * from \"./core/query-select\"\nexport * from \"./core/eval\"\nexport * from \"./ce/html\";\nexport * from \"./tpl/templatify\";\nexport * from \"./core/debouncer\";\n\nexport * from \"./core/storage\"\n","import {KaTemplate} from \"./tpl/template\";\nimport {ka_debounce} from \"./core/debounce\";\nimport {isset} from \"./functions\";\nimport {Debouncer} from \"@kasimirjs/embed\";\n\nexport type KaScopeOn = {\n    /**\n     * Called whenever a bind value changes\n     *\n     * @param e\n     */\n    change?: (e : Event) => any\n\n    /**\n     * Called before Rendering starts\n     *\n     * @param e\n     */\n    onBeforeRender?: (e : Event) => any\n}\n\nexport type KaScopeType = {\n    $__scope_orig: any\n    $fn: {[x : string] : (...param : any[])=>any}\n    $ref: Map<string, HTMLElement>\n    $on: KaScopeOn\n    $tpl: KaTemplate\n    $parent: KaScope\n    [x: string] : any\n    render: () => KaScope\n    importFrom(scope : any) : void;\n    init(scopeDef : any) : void;\n    isInitialized() : boolean;\n    raw() : KaScope;\n    dump() : any;\n}\n\nexport interface KaScope {\n    $__scope_orig?: any\n    $fn?: {[x : string] : (...param : any[])=>any}\n    $ref?: Map<string, HTMLElement>\n    $on?: KaScopeOn\n    $tpl?: KaTemplate\n    $parent?: KaScope\n    [x: string] : any\n\n    render?: () => KaScope\n    importFrom?(scope : any) : void;\n    init?(scopeDef : any) : void;\n    isInitialized?() : boolean;\n    raw?() : KaScope;\n    dump?() : any;\n}\n\n\nclass KaDefaultScope implements KaScope {\n    private __isInitialized = false;\n    isInitialized(): boolean {\n        return this.__isInitialized;\n    }\n\n    async render() {\n        this.$tpl.render(this);\n\n    }\n\n    raw() : KaScope {\n        return this.$__scope_orig;\n    }\n\n    importFrom(scope : any) {\n        for(let key of Object.keys(scope)) {\n            if (key.startsWith(\"$\") || key.startsWith(\"__\"))\n                continue;\n            this[\"$__scope_orig\"][key] = scope[key];\n        }\n    }\n\n    dump() : any {\n        return {...this}\n    }\n\n    init(scopeDef : any) {\n        if (this.isInitialized())\n            throw \"Scope is already initalized\";\n        this.__isInitialized = true;\n        for(let key of Object.keys(scopeDef)) {\n            this[key] = scopeDef[key];\n        }\n    }\n    [x: string] : any\n}\n\nexport function createScopeObject<T extends KaScope>(init : T = null) : T | KaScope {\n    let scopeDef = new KaDefaultScope();\n    scopeDef[\"$__scope_orig\"] = scopeDef;\n    let proxy = new Proxy(scopeDef, {\n        get(target : any, prop : string, receiver: RTCRtpReceiver) {\n            if (prop.startsWith(\"$\"))\n                return target[prop];\n            return target[prop];\n        },\n        set(target: any, p: string, value: any, receiver: any) : boolean {\n            if (target[p] === value)\n                return true; // Nothing changed\n\n            target[p] = value;\n\n            let debouncer = new Debouncer(50, 50);\n            if (p.startsWith(\"$\") || p.startsWith(\"__\"))\n                return true;\n\n            if (isset (scopeDef.$tpl))\n                scopeDef.$tpl.render();\n            (async() => {\n                await debouncer.debounce();\n\n            })()\n            return true;\n        }\n    });\n    if (init !== null)\n        scopeDef.init(init);\n    return proxy as T;\n}\n","import {ka_templatify} from \"../tpl/templatify.js\";\nimport {KaTemplate} from \"../tpl/template.js\";\nimport {ka_query_selector} from \"../core/query-select\";\nimport {RemoteTemplate} from \"./htmlFile\";\n\nexport class KaCustomElement extends HTMLElement {\n\n    constructor(props) {\n        super(props);\n\n        /**\n         *\n         * @protected\n         * @var {KaTemplate}\n         */\n        this.__tpl = null;\n\n        this.__isConnected = false;\n    }\n\n    /**\n     * The Template associated with this Element\n     *\n     * @return {KaTemplate}\n     */\n    get $tpl () {\n        return this.__tpl\n    }\n\n    isConnected() {\n        return this.isConnected;\n    }\n\n    /**\n     * @abstract\n     * @return {Promise<void>}\n     */\n    async connected($tpl, $this) {\n        console.warn(\"connected() method not overridden in\", this);\n    }\n\n    async connectedCallback() {\n        let callback = this.constructor.__callback;\n        if (callback === null) {\n        } else {\n            callback.bind(this);\n        }\n\n        if (this.constructor.__tpl !== null) {\n            let origTpl = this.constructor.__tpl;\n            if (origTpl instanceof RemoteTemplate)\n                origTpl = await origTpl.load();\n\n            let tpl = ka_templatify(origTpl);\n\n            if (this.constructor.__options.shadowDom === true) {\n                let shadowDom = this.attachShadow(this.constructor.__options.shadowDomOptions);\n                shadowDom.appendChild(tpl);\n            } else {\n                this.appendChild(tpl);\n            }\n\n            this.__tpl = new KaTemplate(tpl);\n        }\n\n        if (this.constructor.__options.waitEvent !== null) {\n            let wd = this.constructor.__options.waitEvent.split(\"@\");\n            let eventName = wd[0];\n            let target = document;\n            if (wd.length === 2) {\n                target = ka_query_selector(wd[1]);\n            }\n            target.addEventListener(eventName, async (event) => {\n                callback(this.$tpl, this);\n                this.__isConnected = true;\n            })\n            return;\n        }\n\n        if (callback === null) {\n            // Class: Call connected() Method\n            await this.connected(this.$tpl, this);\n            this.__isConnected = true;\n            return\n        }\n\n        // Function\n        callback(this.$tpl, this);\n        this.__isConnected = true;\n    }\n\n};\n","import {ka_eval} from \"./eval.js\";\nimport {ka_str_to_camel_case} from \"./str-to-camelcase.js\";\nimport {KaUse} from \"../element/ka-use\";\nimport {isset, isUndefined} from \"../functions\";\nimport {KaCustomFragment} from \"../element/KaCustomFragment\";\n\n\nexport function ka_apply (selector, scope, recursive=false) {\n    if (typeof selector === \"string\")\n        selector = KaToolsV1.querySelector(selector);\n\n    let attMap = {\n        \"textcontent\": \"textContent\",\n        \"htmlcontent\": \"innerHTML\",\n        \"innerhtml\": \"innerHTML\",\n    }\n\n    for(let attName of selector.getAttributeNames()) {\n        //console.log(attName);\n        if ( ! attName.startsWith(\"ka.\")) {\n            continue;\n        }\n\n        let attVal = selector.getAttribute(attName);\n\n        let attType = attName.split(\".\")[1];\n        let attSelector = attName.split(\".\")[2];\n        if (typeof attSelector === \"undefined\")\n            attSelector = null;\n\n\n        let registerEventHandler = function(element, action, callbackOrCode, scope) {\n            if (typeof element._ka_on === \"undefined\")\n                element._ka_on = {};\n\n            if (typeof element._ka_on[action] === \"undefined\")\n                element.addEventListener(action, (e) => element._ka_on[action](e));\n\n            element._ka_on[action] = async(e) => {\n                scope[\"$event\"] = e;\n                if (typeof callbackOrCode === \"function\") {\n                    return callbackOrCode(e, element, scope);\n                } else {\n                    return ka_eval(callbackOrCode, scope, element);\n                }\n            };\n        }\n\n        if (attType === \"on\") {\n            let attScope = {$scope: scope, ...scope}\n            if (attSelector !== null) {\n                registerEventHandler(selector, attSelector, attVal, attScope);\n            } else {\n                let callBackMap = KaToolsV1.eval(attVal, attScope, selector);\n                for(let curAction in callBackMap) {\n                    registerEventHandler(selector, curAction, callBackMap[curAction], attScope);\n                }\n\n            }\n            continue;\n        }\n\n        let r = null;\n        if (typeof attVal !== \"undefined\" && typeof attVal !== null && attVal !== \"\")\n            r = ka_eval(attVal, scope, selector);\n\n        switch (attType) {\n            case \"use\":\n                if ( ! (selector instanceof KaUse)) {\n                    console.error(\"ka.use is only available on <ka-use/> Elements: Used on \", r, \"found in \", selector);\n                    throw \"ka.use called on non <ka-use/> Element.\"\n                }\n\n                selector.use(r, scope)\n                continue;\n\n            case \"become\":\n                if ( ! (r instanceof HTMLElement)) {\n                    console.error(\"ka.become is only available on HTMLElements: Used on \", r, \"found in \", selector);\n                    throw \"ka.become called on non HTMLElement.\"\n                }\n                let attributes = selector.attributes;\n\n                selector.replaceWith(r);\n\n                continue;\n\n            case \"content\":\n                if ( ! (r instanceof HTMLElement)) {\n                    console.error(\"ka.content is only available on HTMLElements: Used on \", r, \"found in \", selector);\n                    throw \"ka.content called on non HTMLElement.\"\n                }\n                selector.append(r);\n                continue;\n\n            case \"scope\":\n                if ( ! (r instanceof Object)) {\n                    console.error(\"ka.scope must be object type <ka-use/> Elements: Value is \", r, \"found in \", selector);\n                    throw \"ka.scope insuffient value\";\n                }\n\n                selector.setScope(r);\n                continue;\n\n            case \"stop\":\n                continue;\n\n            case \"debug\":\n                console.log(\"ka.debug on element\", selector, \"value:\", r, \"scope:\", scope);\n                continue;\n\n            case \"ref\":\n                if (isUndefined(scope.$ref))\n                    scope.$ref = {};\n                // Allow ref without parameter to use $ref.$last\n                if (r !== null)\n                    scope.$ref[r] = selector;\n                scope.$ref.$last = selector;\n                break;\n\n            case \"classlist\":\n                if (attSelector  !== null) {\n                    if (r === true) {\n                        selector.classList.add(attSelector)\n                    } else {\n                        selector.classList.remove(attSelector)\n                    }\n                    break;\n                }\n                for (let cname in r) {\n                    if (r[cname] === true) {\n                        selector.classList.add(cname);\n                    } else {\n                        selector.classList.remove(cname);\n                    }\n                }\n                break;\n\n            case \"style\":\n                if (attSelector  !== null) {\n                    let val = r;\n                    if (typeof val === \"number\" && [\"left\", \"top\", \"height\", \"width\", \"bottom\", \"right\", \"line-height\", \"font-size\"].indexOf(attSelector) !== -1)\n                        val = val + \"px\";\n                    selector.style[ka_str_to_camel_case(attSelector)] = val;\n                    break;\n                }\n                for (let cname in r) {\n                    let val = r[cname];\n                    if (typeof val === \"number\" && [\"left\", \"top\", \"height\", \"width\", \"bottom\", \"right\", \"line-height\", \"font-size\"].indexOf(cname) !== -1)\n                        val = val + \"px\";\n                    selector.style[ka_str_to_camel_case(cname)] = val;\n                }\n                break;\n\n            case \"bindarray\":\n                if (attSelector === \"default\")\n                    continue;\n                if (isUndefined(r)) {\n                    // Bind default values\n                    if (selector.hasAttribute(\"ka.bind.default\")) {\n                        scope = {$scope: scope, ...scope};\n                        scope = {$scope: scope, ...scope, __curVal: ka_eval(selector.getAttribute(\"ka.bind.default\"), scope, selector)}\n                        ka_eval(`${attVal} = __curVal`, scope, selector);\n                        r = scope.__curVal;\n                    }\n                }\n                if ( ! Array.isArray(r)) {\n                    console.error(\"kap:bindarr: Not an array!\", r, selector);\n                    return;\n                }\n                if (r.indexOf(selector.value) === -1)\n                    selector.checked = false;\n                else\n                    selector.checked = true;\n\n                if (typeof selector._kap_bind === \"undefined\") {\n                    selector.addEventListener(\"change\", (event) => {\n\n                        let arr = ka_eval(attVal, scope, selector);\n\n                        if (arr.indexOf(selector.value) === -1 && selector.checked)\n                            arr.push(selector.value);\n                        if (arr.indexOf(selector.value) !== -1 && ! selector.checked)\n                            arr = arr.filter((e) => e !== selector.value);\n                        scope = {$scope: scope, ...scope, __curVal: arr};\n                        ka_eval(`${attVal} = __curVal`, scope, selector);\n                        if (scope.$on && scope.$on.change)\n                            scope.$on.change(event);\n                    })\n                    selector._kap_bind = true;\n                }\n                break;\n\n            case \"bind\":\n                if (attSelector === \"default\")\n                    continue;\n                if (isUndefined(r)) {\n                    // Bind default values\n                    if (isset (selector.value)) {\n                        scope = {$scope: scope,...scope, __curVal: selector.value}\n                        ka_eval(`${attVal} = __curVal`, scope, selector);\n                        r = scope.__curVal;\n                    }\n                    if (selector.hasAttribute(\"ka.bind.default\")) {\n                        scope = {$scope: scope, ...scope};\n                        scope = {$scope: scope, ...scope, __curVal: ka_eval(selector.getAttribute(\"ka.bind.default\"), scope, selector)}\n                        ka_eval(`${attVal} = __curVal`, scope, selector);\n                        r = scope.__curVal;\n                    }\n                }\n                if (selector.type === \"checkbox\" || selector.type === \"radio\") {\n                    if (selector.hasAttribute(\"value\")) {\n                        if (r === selector.getAttribute(\"value\"))\n                            selector.checked = true;\n                        else\n                            selector.checked = false;\n                    } else {\n                        if (r === true)\n                            selector.checked = true;\n                        else\n                            selector.checked = false;\n                    }\n                } else {\n                    selector.value = typeof r !== \"undefined\" ? r : \"\";\n                }\n\n                if (typeof selector._kap_bind === \"undefined\") {\n                    selector.addEventListener(\"change\", (event) => {\n\n                        let value = null;\n                        if (selector.type === \"checkbox\" || selector.type === \"radio\") {\n                            if (selector.hasAttribute(\"value\")) {\n                                if (selector.checked === false)\n                                    return;\n                                value = selector.getAttribute(\"value\");\n                            } else {\n                                value = selector.checked\n                            }\n                        } else {\n                            value = selector.value\n                        }\n                        scope = {$scope: scope, ...scope, __curVal: value}\n                        ka_eval(`${attVal} = __curVal`, scope, selector);\n                        if (scope.$on && scope.$on.change)\n                            scope.$on.change(event);\n                    })\n                    selector.addEventListener(\"keyup\", (event) => {\n                        scope = {$scope: scope,...scope, __curVal: selector.value}\n                        ka_eval(`${attVal} = __curVal`, scope, selector);\n                        if (scope.$on && scope.$on.change)\n                            scope.$on.change(event);\n\n                    })\n                    selector._kap_bind = true;\n                }\n                break;\n\n            case \"options\":\n                let value = selector.value;\n                selector.innerHTML = \"\";\n                for (let option in r) {\n                    if (! Array.isArray(r)) {\n                        // Object key => value value => text\n                        selector.appendChild(new Option(r[option], option));\n                    } else {\n                        // Array\n                        if (typeof r[option].text !== \"undefined\") {\n                            selector.appendChild(new Option(r[option].text, r[option].value));\n                        } else {\n                            // Array value and text will be array value\n                            selector.appendChild(new Option(r[option], r[option]));\n                        }\n                    }\n                }\n                if (value !== null)\n                    selector.value = value;\n                break;\n\n            case \"attr\":\n                if (attSelector  !== null) {\n                    if (r === null || r === false) {\n                        selector.removeAttribute(attSelector)\n                    } else {\n                        selector.setAttribute(attSelector, r);\n                    }\n                    break;\n                }\n                for (let cname in r) {\n                    if (r[cname] ===null || r[cname] === false) {\n                        selector.removeAttribute(cname);\n                    } else {\n                        selector.setAttribute(cname, r[cname]);\n                    }\n                }\n                break;\n\n            case \"prop\":\n                if (attSelector  !== null) {\n                    // Set Property directly\n                    selector[ka_str_to_camel_case(attSelector)] = r;\n                    break;\n                }\n                for (let cname in r) {\n                    selector[ka_str_to_camel_case(cname)] = r[cname];\n                }\n                break;\n\n            default:\n                if (typeof attMap[attType] !== \"undefined\")\n                    attType = attMap[attType];\n                if (typeof selector[attType] === \"undefined\") {\n                    console.warn(\"apply(): trying to set undefined property \", attType, \"on element\", selector);\n                }\n                selector[attType] = r;\n                break;\n        }\n\n\n\n    }\n    if (recursive) {\n        for (let e of selector.children) {\n            ka_apply(e, scope, recursive);\n        }\n    }\n}\n","\n\n/**\n *\n * @param {HTMLElement} elem\n * @param fn\n * @param recursive\n */\nexport function ka_elwalk (elem, fn, recursive=false, includeFirst=false) {\n    if (Array.isArray(elem))\n        elem.children = elem;\n    if (typeof elem.children === \"undefined\")\n        return;\n    if (includeFirst && elem instanceof HTMLElement) {\n        let ret = fn(elem);\n        if (ret === false)\n            return false;\n    }\n    for(let child of elem.children) {\n        let ret = fn(child);\n        if (ret === false)\n            continue; // No recursiion\n\n        if (recursive && typeof child.children !== \"undefined\")\n            ka_elwalk(child, fn, recursive);\n\n    }\n}\n","\nexport function ka_eval (stmt, __scope, e, __refs) {\n    if (stmt.endsWith(\";\"))\n        stmt = stmt.slice(0, -1);\n\n    const reserved = [\"var\", \"null\", \"let\", \"const\", \"function\", \"class\", \"in\", \"of\", \"for\", \"true\", \"false\", \"await\", \"$this\"];\n    let r = \"var $this = e;\";\n    for (let __name in __scope) {\n        if (reserved.indexOf(__name) !== -1)\n            continue;\n        if (__name.indexOf(\"-\") !== -1) {\n            console.error(`Invalid scope key '${__name}': Cannot contain - in scope:`, __scope);\n            throw `eval() failed: Invalid scope key: '${__name}': Cannot contain minus char '-'`;\n        }\n        r += `var ${__name} = __scope['${__name}'];`\n    }\n    // If the scope was cloned, the original will be in $scope. This is important when\n    // Using events [on.click], e.g.\n    if (typeof __scope.$scope === \"undefined\") {\n        r += \"var $scope = __scope;\";\n    }\n    try {\n        // console.log(r + '(' + stmt + ')');\n        return eval(r  + '('+stmt+')')\n    } catch (ex) {\n        console.error(\"cannot eval() stmt: '\" + stmt + \"': \" + ex, \" on element \", e, ex, \"(context:\", __scope, \")\");\n        throw \"eval('\" + stmt + \"') failed: \" + ex;\n    }\n}\n","\n\n/**\n * Transform any input to CamelCase\n *\n * Example: some-class => someClass\n *\n * @param str {string}\n * @return {string}\n */\nexport function ka_str_to_camel_case (str) {\n    return str.replace(/(?:^\\w|[A-Z]|\\b\\w)/g, (ltr, idx) => idx === 0 ? ltr.toLowerCase() : ltr.toUpperCase()).replace(/[^a-zA-Z0-9]+/g, '');\n}\n","import {ka_eval} from \"../core/eval.js\";\nimport {ka_elwalk} from \"../core/elwalk.js\";\nimport {ka_apply} from \"../core/apply.js\";\nimport {KaCustomElement} from \"../ce/custom-element.js\";\n\n\nexport class KaTemplate {\n\n    constructor(template) {\n        this.template = template;\n        if (typeof this.template.__kachilds === \"undefined\")\n            this.template.__kachilds = [];\n        if (typeof this.template.__kasibling === \"undefined\")\n            this.template.__kasibling = this.template.nextElementSibling;\n\n        this.__renderCount = 0;\n        this.$scope = {};\n    }\n\n    _error(msg) {\n        console.error(`[ka-template] ${msg} on element`, this.template);\n        throw `[ka-template] ${msg} on element` + this.template;\n    }\n\n    _appendTemplate() {\n        let elements = this.template.content;\n\n        let elList = [];\n        for (let curE of elements.children) {\n            curE = curE.cloneNode(true);\n            curE._ka_maintained_by = this.template.getAttribute(\"_kaidx\");\n            elList.push(curE);\n            this.template.parentNode.insertBefore(curE, this.template.__kasibling);\n        }\n        this.template.__kachilds.push(elList);\n    }\n\n    _removeLastChild() {\n        if (this.template.__kachilds.length === 0)\n            return;\n        let childs = this.template.__kachilds[this.template.__kachilds.length - 1];\n        for (let curE of childs) {\n            this.template.parentElement.removeChild(curE);\n        }\n        this.template.__kachilds.length = this.template.__kachilds.length - 1;\n\n    }\n\n    _renderFor($scope, stmt) {\n        //console.log(\"kachilds\", this.template.__kachilds);\n        let matches = stmt.match(/^(let)?\\s*(?<target>.+)\\s+(?<type>of|in|repeat)\\s+(?<select>.+)$/);\n        if (matches === null) {\n            this._error(`Can't parse ka.for='${stmt}'`);\n        }\n        let selectVal = ka_eval(matches.groups.select, $scope, this.template);\n\n        if (matches.groups.type === \"repeat\") {\n            if (typeof selectVal !== \"number\")\n                this._error(`Error ka.for='${stmt}': Selected val must be number in repeat loop`);\n            selectVal = new Array(selectVal).fill(null);\n        }\n\n        let eIndex = 0;\n        for (let index in selectVal) {\n            let curScope = {$scope: $scope, ...$scope};\n            curScope[matches.groups.target] = index;\n\n            if (matches.groups.type === \"of\")\n                curScope[matches.groups.target] = selectVal[index];\n\n            if (this.template.__kachilds.length < eIndex + 1) {\n                //console.log(\"append\", eIndex, this.template.__kachilds.length);\n                this._appendTemplate();\n            }\n            this._maintain(curScope, this.template.__kachilds[eIndex], eIndex);\n            eIndex++;\n        }\n        for(let remIdx = eIndex; remIdx < this.template.__kachilds.length; ) {\n            this._removeLastChild();\n        }\n\n    }\n\n    _maintain($scope, childs, forIndex=0) {\n        for (let child of childs) {\n            child._ka_for_index = forIndex;\n            ka_elwalk(child, (el) => {\n                //console.log(\"walk\", el);\n\n                if (el instanceof HTMLTemplateElement) {\n                    //console.log(\"maintain\", el);\n                    let r = new this.constructor(el);\n                    r.render($scope);\n                    return false;\n                }\n\n                if (typeof el._ka_maintained_by !== \"undefined\" && el._ka_maintained_by !== this.template.getAttribute(\"_kaidx\")) {\n                    return false;\n                }\n\n                ka_apply(el, $scope);\n                if ((el instanceof HTMLElement && (el.hasAttribute(\"ka.stop\" )) || el instanceof KaCustomElement))\n                    return false; // Skip Element rendering\n            }, true, true);\n        }\n    }\n\n\n    _renderIf($scope, stmt) {\n         let selectVal = ka_eval(stmt, $scope, this.template);\n        if (selectVal === true) {\n            if (this.template.__kachilds.length === 0)\n                this._appendTemplate();\n\n            this._maintain($scope, this.template.__kachilds[0]);\n        } else {\n            this._removeLastChild();\n        }\n    }\n\n    /**\n     * Remove all rendered element\n     */\n    dispose() {\n        for(;this.template.__kachilds.length > 0;)\n            this._removeLastChild();\n    }\n\n\n    setScope($scope) {\n        this.$scope = $scope;\n    }\n\n    /**\n     * Render / Update the Template\n     *\n     * Once the scope in parameter 1 was set, it will render\n     * without any parameters. Scope is available via property $scope\n     *\n     * @param $scope\n     */\n    render($scope = null) {\n        if ($scope === null)\n            $scope = this.$scope;\n        this.$scope = $scope;\n        this.__renderCount++;\n\n        if (this.template.hasAttribute(\"ka.for\")) {\n            this._renderFor($scope, this.template.getAttribute(\"ka.for\"));\n        } else if (this.template.hasAttribute(\"ka.if\")) {\n            this._renderIf($scope, this.template.getAttribute(\"ka.if\"));\n        } else {\n            if (typeof this.template._ka_active === \"undefined\") {\n                this._appendTemplate();\n                this.template._ka_active = true;\n            }\n            this._maintain($scope, this.template.__kachilds);\n        }\n    }\n\n    /**\n     * Return true if this template was renderd the first time\n     *\n     * @returns {boolean}\n     */\n    isFirstRender() {\n        return this.__renderCount === 1;\n    }\n\n};\n","import {ka_query_selector} from \"../core/query-select\";\nimport {ka_elwalk} from \"../core/elwalk.js\";\n\nfunction quoteattr(s, preserveCR) {\n    preserveCR = preserveCR ? '&#13;' : '\\n';\n    return ('' + s) /* Forces the conversion to string. */\n        .replace(/&/g, '&amp;') /* This MUST be the 1st replacement. */\n        .replace(/'/g, '&apos;') /* The 4 other predefined entities, required. */\n        .replace(/\"/g, '&quot;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        /*\n        You may add other replacements here for HTML only\n        (but it's not necessary).\n        Or for XML, only if the named entities are defined in its DTD.\n        */\n        .replace(/\\r\\n/g, preserveCR) /* Must be before the next replacement. */\n        .replace(/[\\r\\n]/g, preserveCR);\n    ;\n}\n\nwindow._ka_el_idx = 0;\n/**\n * Generate a renderable Template from <template> Element\n *\n * @param {HTMLElement|string} elem\n * @return {HTMLTemplateElement}\n */\nexport function ka_templatify (elem, returnMode=true) {\n    if (typeof elem === \"string\")\n        elem = ka_query_selector(elem);\n\n    if ( ! (elem instanceof Node)) {\n        console.error(\"[ka-templatify] Parameter 1 is not a html element: \", elem)\n        throw `[ka-templify] Parameter 1 is not a html element: ${elem}`;\n    }\n\n    if (returnMode) {\n        let returnTpl = document.createElement(\"template\");\n        returnTpl.setAttribute(\"_kaidx\", (window._ka_el_idx++).toString())\n        /* @var {HTMLTemplateElement} returnTpl */\n        returnTpl.innerHTML = elem.innerHTML\n            .replace(/\\[\\[(.*?)\\]\\]/g, (matches, m1) => `<span ka.textContent=\"${quoteattr(m1)}\"></span>`);\n\n        ka_templatify(returnTpl.content, false);\n        return returnTpl;\n    }\n\n    if (elem instanceof HTMLTemplateElement)\n        elem = elem.content;\n\n    let wrapElem = (el, attName, attVal) => {\n        let tpl = document.createElement(\"template\");\n        tpl.setAttribute(\"_kaidx\", (window._ka_el_idx++).toString())\n        let clonedEl = el.cloneNode(true);\n        clonedEl.removeAttribute(attName);\n        tpl.content.append(clonedEl);\n        tpl.setAttribute(attName, attVal);\n        el.replaceWith(tpl);\n        return tpl;\n    }\n\n    ka_elwalk(elem, (el) => {\n        //console.log(el);\n        if ( ! (el instanceof HTMLElement))\n            return;\n        let tpl = null;\n        for (let attrName of el.getAttributeNames()) {\n            if (attrName === \"ka.for\") {\n                tpl = wrapElem(el, \"ka.for\", el.getAttribute(\"ka.for\"));\n                ka_templatify(tpl, false);\n                break;\n            }\n            if (attrName === \"ka.if\") {\n                tpl = wrapElem(el, \"ka.if\", el.getAttribute(\"ka.if\"));\n                ka_templatify(tpl, false);\n                break;\n            }\n        }\n    }, true, false);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\nimport \"./SwitcherElement\";\nimport \"../index\";\n"],"names":["el","classes","template"],"sourceRoot":""}